{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\n\nvar handleGroupingDefaults = require('../bar/defaults').handleGroupingDefaults;\n\nvar handleText = require('../bar/defaults').handleText;\n\nvar handleXYDefaults = require('../scatter/xy_defaults');\n\nvar handlePeriodDefaults = require('../scatter/period_defaults');\n\nvar attributes = require('./attributes');\n\nvar Color = require('../../components/color');\n\nfunction supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  }\n\n  var len = handleXYDefaults(traceIn, traceOut, layout, coerce);\n\n  if (!len) {\n    traceOut.visible = false;\n    return;\n  }\n\n  handlePeriodDefaults(traceIn, traceOut, layout, coerce);\n  coerce('xhoverformat');\n  coerce('yhoverformat');\n  coerce('orientation', traceOut.y && !traceOut.x ? 'v' : 'h');\n  coerce('offset');\n  coerce('width');\n  var text = coerce('text');\n  coerce('hovertext');\n  coerce('hovertemplate');\n  var textposition = coerce('textposition');\n  handleText(traceIn, traceOut, layout, coerce, textposition, {\n    moduleHasSelected: false,\n    moduleHasUnselected: false,\n    moduleHasConstrain: true,\n    moduleHasCliponaxis: true,\n    moduleHasTextangle: true,\n    moduleHasInsideanchor: true\n  });\n\n  if (traceOut.textposition !== 'none' && !traceOut.texttemplate) {\n    coerce('textinfo', Array.isArray(text) ? 'text+value' : 'value');\n  }\n\n  var markerColor = coerce('marker.color', defaultColor);\n  coerce('marker.line.color', Color.defaultLine);\n  coerce('marker.line.width');\n  var connectorVisible = coerce('connector.visible');\n\n  if (connectorVisible) {\n    coerce('connector.fillcolor', defaultFillColor(markerColor));\n    var connectorLineWidth = coerce('connector.line.width');\n\n    if (connectorLineWidth) {\n      coerce('connector.line.color');\n      coerce('connector.line.dash');\n    }\n  }\n}\n\nfunction defaultFillColor(markerColor) {\n  var cBase = Lib.isArrayOrTypedArray(markerColor) ? '#000' : markerColor;\n  return Color.addOpacity(cBase, 0.5 * Color.opacity(cBase));\n}\n\nfunction crossTraceDefaults(fullData, fullLayout) {\n  var traceIn, traceOut;\n\n  function coerce(attr) {\n    return Lib.coerce(traceOut._input, traceOut, attributes, attr);\n  }\n\n  if (fullLayout.funnelmode === 'group') {\n    for (var i = 0; i < fullData.length; i++) {\n      traceOut = fullData[i];\n      traceIn = traceOut._input;\n      handleGroupingDefaults(traceIn, traceOut, fullLayout, coerce);\n    }\n  }\n}\n\nmodule.exports = {\n  supplyDefaults: supplyDefaults,\n  crossTraceDefaults: crossTraceDefaults\n};","map":{"version":3,"sources":["C:/Projects/reactApp/frontend/node_modules/plotly.js/src/traces/funnel/defaults.js"],"names":["Lib","require","handleGroupingDefaults","handleText","handleXYDefaults","handlePeriodDefaults","attributes","Color","supplyDefaults","traceIn","traceOut","defaultColor","layout","coerce","attr","dflt","len","visible","y","x","text","textposition","moduleHasSelected","moduleHasUnselected","moduleHasConstrain","moduleHasCliponaxis","moduleHasTextangle","moduleHasInsideanchor","texttemplate","Array","isArray","markerColor","defaultLine","connectorVisible","defaultFillColor","connectorLineWidth","cBase","isArrayOrTypedArray","addOpacity","opacity","crossTraceDefaults","fullData","fullLayout","_input","funnelmode","i","length","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar Lib = require('../../lib');\n\nvar handleGroupingDefaults = require('../bar/defaults').handleGroupingDefaults;\nvar handleText = require('../bar/defaults').handleText;\nvar handleXYDefaults = require('../scatter/xy_defaults');\nvar handlePeriodDefaults = require('../scatter/period_defaults');\nvar attributes = require('./attributes');\nvar Color = require('../../components/color');\n\nfunction supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n    }\n\n    var len = handleXYDefaults(traceIn, traceOut, layout, coerce);\n    if(!len) {\n        traceOut.visible = false;\n        return;\n    }\n\n    handlePeriodDefaults(traceIn, traceOut, layout, coerce);\n    coerce('xhoverformat');\n    coerce('yhoverformat');\n\n    coerce('orientation', (traceOut.y && !traceOut.x) ? 'v' : 'h');\n    coerce('offset');\n    coerce('width');\n\n    var text = coerce('text');\n\n    coerce('hovertext');\n    coerce('hovertemplate');\n\n    var textposition = coerce('textposition');\n    handleText(traceIn, traceOut, layout, coerce, textposition, {\n        moduleHasSelected: false,\n        moduleHasUnselected: false,\n        moduleHasConstrain: true,\n        moduleHasCliponaxis: true,\n        moduleHasTextangle: true,\n        moduleHasInsideanchor: true\n    });\n\n    if(traceOut.textposition !== 'none' && !traceOut.texttemplate) {\n        coerce('textinfo', Array.isArray(text) ? 'text+value' : 'value');\n    }\n\n    var markerColor = coerce('marker.color', defaultColor);\n    coerce('marker.line.color', Color.defaultLine);\n    coerce('marker.line.width');\n\n    var connectorVisible = coerce('connector.visible');\n    if(connectorVisible) {\n        coerce('connector.fillcolor', defaultFillColor(markerColor));\n\n        var connectorLineWidth = coerce('connector.line.width');\n        if(connectorLineWidth) {\n            coerce('connector.line.color');\n            coerce('connector.line.dash');\n        }\n    }\n}\n\nfunction defaultFillColor(markerColor) {\n    var cBase = Lib.isArrayOrTypedArray(markerColor) ? '#000' : markerColor;\n\n    return Color.addOpacity(cBase, 0.5 * Color.opacity(cBase));\n}\n\nfunction crossTraceDefaults(fullData, fullLayout) {\n    var traceIn, traceOut;\n\n    function coerce(attr) {\n        return Lib.coerce(traceOut._input, traceOut, attributes, attr);\n    }\n\n    if(fullLayout.funnelmode === 'group') {\n        for(var i = 0; i < fullData.length; i++) {\n            traceOut = fullData[i];\n            traceIn = traceOut._input;\n\n            handleGroupingDefaults(traceIn, traceOut, fullLayout, coerce);\n        }\n    }\n}\n\nmodule.exports = {\n    supplyDefaults: supplyDefaults,\n    crossTraceDefaults: crossTraceDefaults\n};\n"]},"metadata":{},"sourceType":"script"}