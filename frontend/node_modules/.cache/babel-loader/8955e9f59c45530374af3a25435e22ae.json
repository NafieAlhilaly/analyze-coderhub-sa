{"ast":null,"code":"'use strict';\n\nmodule.exports = barycentric;\n\nvar solve = require('robust-linear-solve');\n\nfunction reduce(x) {\n  var r = 0;\n\n  for (var i = 0; i < x.length; ++i) {\n    r += x[i];\n  }\n\n  return r;\n}\n\nfunction barycentric(simplex, point) {\n  var d = point.length;\n  var A = new Array(d + 1);\n\n  for (var i = 0; i < d; ++i) {\n    var row = new Array(d + 1);\n\n    for (var j = 0; j <= d; ++j) {\n      row[j] = simplex[j][i];\n    }\n\n    A[i] = row;\n  }\n\n  A[d] = new Array(d + 1);\n\n  for (var i = 0; i <= d; ++i) {\n    A[d][i] = 1;\n  }\n\n  var b = new Array(d + 1);\n\n  for (var i = 0; i < d; ++i) {\n    b[i] = point[i];\n  }\n\n  b[d] = 1.0;\n  var x = solve(A, b);\n  var w = reduce(x[d + 1]);\n\n  if (w === 0) {\n    w = 1.0;\n  }\n\n  var y = new Array(d + 1);\n\n  for (var i = 0; i <= d; ++i) {\n    y[i] = reduce(x[i]) / w;\n  }\n\n  return y;\n}","map":{"version":3,"sources":["C:/Projects/reactApp/frontend/node_modules/barycentric/barycentric.js"],"names":["module","exports","barycentric","solve","require","reduce","x","r","i","length","simplex","point","d","A","Array","row","j","b","w","y"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,OAAP,GAAiBC,WAAjB;;AAEA,IAAIC,KAAK,GAAGC,OAAO,CAAC,qBAAD,CAAnB;;AAEA,SAASC,MAAT,CAAgBC,CAAhB,EAAmB;AACjB,MAAIC,CAAC,GAAG,CAAR;;AACA,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACF,CAAC,CAACG,MAAjB,EAAyB,EAAED,CAA3B,EAA8B;AAC5BD,IAAAA,CAAC,IAAID,CAAC,CAACE,CAAD,CAAN;AACD;;AACD,SAAOD,CAAP;AACD;;AAED,SAASL,WAAT,CAAqBQ,OAArB,EAA8BC,KAA9B,EAAqC;AACnC,MAAIC,CAAC,GAAGD,KAAK,CAACF,MAAd;AACA,MAAII,CAAC,GAAG,IAAIC,KAAJ,CAAUF,CAAC,GAAC,CAAZ,CAAR;;AACA,OAAI,IAAIJ,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACI,CAAf,EAAkB,EAAEJ,CAApB,EAAuB;AACrB,QAAIO,GAAG,GAAG,IAAID,KAAJ,CAAUF,CAAC,GAAC,CAAZ,CAAV;;AACA,SAAI,IAAII,CAAC,GAAC,CAAV,EAAaA,CAAC,IAAEJ,CAAhB,EAAmB,EAAEI,CAArB,EAAwB;AACtBD,MAAAA,GAAG,CAACC,CAAD,CAAH,GAASN,OAAO,CAACM,CAAD,CAAP,CAAWR,CAAX,CAAT;AACD;;AACDK,IAAAA,CAAC,CAACL,CAAD,CAAD,GAAOO,GAAP;AACD;;AACDF,EAAAA,CAAC,CAACD,CAAD,CAAD,GAAO,IAAIE,KAAJ,CAAUF,CAAC,GAAC,CAAZ,CAAP;;AACA,OAAI,IAAIJ,CAAC,GAAC,CAAV,EAAaA,CAAC,IAAEI,CAAhB,EAAmB,EAAEJ,CAArB,EAAwB;AACtBK,IAAAA,CAAC,CAACD,CAAD,CAAD,CAAKJ,CAAL,IAAU,CAAV;AACD;;AAED,MAAIS,CAAC,GAAG,IAAIH,KAAJ,CAAUF,CAAC,GAAC,CAAZ,CAAR;;AACA,OAAI,IAAIJ,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACI,CAAf,EAAkB,EAAEJ,CAApB,EAAuB;AACrBS,IAAAA,CAAC,CAACT,CAAD,CAAD,GAAOG,KAAK,CAACH,CAAD,CAAZ;AACD;;AACDS,EAAAA,CAAC,CAACL,CAAD,CAAD,GAAO,GAAP;AAEA,MAAIN,CAAC,GAAGH,KAAK,CAACU,CAAD,EAAII,CAAJ,CAAb;AACA,MAAIC,CAAC,GAAGb,MAAM,CAACC,CAAC,CAACM,CAAC,GAAC,CAAH,CAAF,CAAd;;AAEA,MAAGM,CAAC,KAAK,CAAT,EAAY;AACVA,IAAAA,CAAC,GAAG,GAAJ;AACD;;AACD,MAAIC,CAAC,GAAG,IAAIL,KAAJ,CAAUF,CAAC,GAAC,CAAZ,CAAR;;AACA,OAAI,IAAIJ,CAAC,GAAC,CAAV,EAAaA,CAAC,IAAEI,CAAhB,EAAmB,EAAEJ,CAArB,EAAwB;AACtBW,IAAAA,CAAC,CAACX,CAAD,CAAD,GAAOH,MAAM,CAACC,CAAC,CAACE,CAAD,CAAF,CAAN,GAAeU,CAAtB;AACD;;AACD,SAAOC,CAAP;AACD","sourcesContent":["'use strict'\n\nmodule.exports = barycentric\n\nvar solve = require('robust-linear-solve')\n\nfunction reduce(x) {\n  var r = 0\n  for(var i=0; i<x.length; ++i) {\n    r += x[i]\n  }\n  return r\n}\n\nfunction barycentric(simplex, point) {\n  var d = point.length\n  var A = new Array(d+1)\n  for(var i=0; i<d; ++i) {\n    var row = new Array(d+1)\n    for(var j=0; j<=d; ++j) {\n      row[j] = simplex[j][i]\n    }\n    A[i] = row\n  }\n  A[d] = new Array(d+1)\n  for(var i=0; i<=d; ++i) {\n    A[d][i] = 1\n  }\n\n  var b = new Array(d+1)\n  for(var i=0; i<d; ++i) {\n    b[i] = point[i]\n  }\n  b[d] = 1.0\n\n  var x = solve(A, b)\n  var w = reduce(x[d+1])\n  \n  if(w === 0) {\n    w = 1.0\n  }\n  var y = new Array(d+1)\n  for(var i=0; i<=d; ++i) {\n    y[i] = reduce(x[i]) / w\n  }\n  return y\n}"]},"metadata":{},"sourceType":"script"}