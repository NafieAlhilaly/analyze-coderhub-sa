{"ast":null,"code":"/*! Native Promise Only\n    v0.8.1 (c) Kyle Simpson\n    MIT License: http://getify.mit-license.org\n*/\n(function UMD(name, context, definition) {\n  // special form of UMD for polyfilling across evironments\n  context[name] = context[name] || definition();\n\n  if (typeof module != \"undefined\" && module.exports) {\n    module.exports = context[name];\n  } else if (typeof define == \"function\" && define.amd) {\n    define(function $AMD$() {\n      return context[name];\n    });\n  }\n})(\"Promise\", typeof global != \"undefined\" ? global : this, function DEF() {\n  /*jshint validthis:true */\n  \"use strict\";\n\n  var builtInProp,\n      cycle,\n      scheduling_queue,\n      ToString = Object.prototype.toString,\n      timer = typeof setImmediate != \"undefined\" ? function timer(fn) {\n    return setImmediate(fn);\n  } : setTimeout; // dammit, IE8.\n\n  try {\n    Object.defineProperty({}, \"x\", {});\n\n    builtInProp = function builtInProp(obj, name, val, config) {\n      return Object.defineProperty(obj, name, {\n        value: val,\n        writable: true,\n        configurable: config !== false\n      });\n    };\n  } catch (err) {\n    builtInProp = function builtInProp(obj, name, val) {\n      obj[name] = val;\n      return obj;\n    };\n  } // Note: using a queue instead of array for efficiency\n\n\n  scheduling_queue = function Queue() {\n    var first, last, item;\n\n    function Item(fn, self) {\n      this.fn = fn;\n      this.self = self;\n      this.next = void 0;\n    }\n\n    return {\n      add: function add(fn, self) {\n        item = new Item(fn, self);\n\n        if (last) {\n          last.next = item;\n        } else {\n          first = item;\n        }\n\n        last = item;\n        item = void 0;\n      },\n      drain: function drain() {\n        var f = first;\n        first = last = cycle = void 0;\n\n        while (f) {\n          f.fn.call(f.self);\n          f = f.next;\n        }\n      }\n    };\n  }();\n\n  function schedule(fn, self) {\n    scheduling_queue.add(fn, self);\n\n    if (!cycle) {\n      cycle = timer(scheduling_queue.drain);\n    }\n  } // promise duck typing\n\n\n  function isThenable(o) {\n    var _then,\n        o_type = typeof o;\n\n    if (o != null && (o_type == \"object\" || o_type == \"function\")) {\n      _then = o.then;\n    }\n\n    return typeof _then == \"function\" ? _then : false;\n  }\n\n  function notify() {\n    for (var i = 0; i < this.chain.length; i++) {\n      notifyIsolated(this, this.state === 1 ? this.chain[i].success : this.chain[i].failure, this.chain[i]);\n    }\n\n    this.chain.length = 0;\n  } // NOTE: This is a separate function to isolate\n  // the `try..catch` so that other code can be\n  // optimized better\n\n\n  function notifyIsolated(self, cb, chain) {\n    var ret, _then;\n\n    try {\n      if (cb === false) {\n        chain.reject(self.msg);\n      } else {\n        if (cb === true) {\n          ret = self.msg;\n        } else {\n          ret = cb.call(void 0, self.msg);\n        }\n\n        if (ret === chain.promise) {\n          chain.reject(TypeError(\"Promise-chain cycle\"));\n        } else if (_then = isThenable(ret)) {\n          _then.call(ret, chain.resolve, chain.reject);\n        } else {\n          chain.resolve(ret);\n        }\n      }\n    } catch (err) {\n      chain.reject(err);\n    }\n  }\n\n  function resolve(msg) {\n    var _then,\n        self = this; // already triggered?\n\n\n    if (self.triggered) {\n      return;\n    }\n\n    self.triggered = true; // unwrap\n\n    if (self.def) {\n      self = self.def;\n    }\n\n    try {\n      if (_then = isThenable(msg)) {\n        schedule(function () {\n          var def_wrapper = new MakeDefWrapper(self);\n\n          try {\n            _then.call(msg, function $resolve$() {\n              resolve.apply(def_wrapper, arguments);\n            }, function $reject$() {\n              reject.apply(def_wrapper, arguments);\n            });\n          } catch (err) {\n            reject.call(def_wrapper, err);\n          }\n        });\n      } else {\n        self.msg = msg;\n        self.state = 1;\n\n        if (self.chain.length > 0) {\n          schedule(notify, self);\n        }\n      }\n    } catch (err) {\n      reject.call(new MakeDefWrapper(self), err);\n    }\n  }\n\n  function reject(msg) {\n    var self = this; // already triggered?\n\n    if (self.triggered) {\n      return;\n    }\n\n    self.triggered = true; // unwrap\n\n    if (self.def) {\n      self = self.def;\n    }\n\n    self.msg = msg;\n    self.state = 2;\n\n    if (self.chain.length > 0) {\n      schedule(notify, self);\n    }\n  }\n\n  function iteratePromises(Constructor, arr, resolver, rejecter) {\n    for (var idx = 0; idx < arr.length; idx++) {\n      (function IIFE(idx) {\n        Constructor.resolve(arr[idx]).then(function $resolver$(msg) {\n          resolver(idx, msg);\n        }, rejecter);\n      })(idx);\n    }\n  }\n\n  function MakeDefWrapper(self) {\n    this.def = self;\n    this.triggered = false;\n  }\n\n  function MakeDef(self) {\n    this.promise = self;\n    this.state = 0;\n    this.triggered = false;\n    this.chain = [];\n    this.msg = void 0;\n  }\n\n  function Promise(executor) {\n    if (typeof executor != \"function\") {\n      throw TypeError(\"Not a function\");\n    }\n\n    if (this.__NPO__ !== 0) {\n      throw TypeError(\"Not a promise\");\n    } // instance shadowing the inherited \"brand\"\n    // to signal an already \"initialized\" promise\n\n\n    this.__NPO__ = 1;\n    var def = new MakeDef(this);\n\n    this[\"then\"] = function then(success, failure) {\n      var o = {\n        success: typeof success == \"function\" ? success : true,\n        failure: typeof failure == \"function\" ? failure : false\n      }; // Note: `then(..)` itself can be borrowed to be used against\n      // a different promise constructor for making the chained promise,\n      // by substituting a different `this` binding.\n\n      o.promise = new this.constructor(function extractChain(resolve, reject) {\n        if (typeof resolve != \"function\" || typeof reject != \"function\") {\n          throw TypeError(\"Not a function\");\n        }\n\n        o.resolve = resolve;\n        o.reject = reject;\n      });\n      def.chain.push(o);\n\n      if (def.state !== 0) {\n        schedule(notify, def);\n      }\n\n      return o.promise;\n    };\n\n    this[\"catch\"] = function $catch$(failure) {\n      return this.then(void 0, failure);\n    };\n\n    try {\n      executor.call(void 0, function publicResolve(msg) {\n        resolve.call(def, msg);\n      }, function publicReject(msg) {\n        reject.call(def, msg);\n      });\n    } catch (err) {\n      reject.call(def, err);\n    }\n  }\n\n  var PromisePrototype = builtInProp({}, \"constructor\", Promise,\n  /*configurable=*/\n  false); // Note: Android 4 cannot use `Object.defineProperty(..)` here\n\n  Promise.prototype = PromisePrototype; // built-in \"brand\" to signal an \"uninitialized\" promise\n\n  builtInProp(PromisePrototype, \"__NPO__\", 0,\n  /*configurable=*/\n  false);\n  builtInProp(Promise, \"resolve\", function Promise$resolve(msg) {\n    var Constructor = this; // spec mandated checks\n    // note: best \"isPromise\" check that's practical for now\n\n    if (msg && typeof msg == \"object\" && msg.__NPO__ === 1) {\n      return msg;\n    }\n\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n\n      resolve(msg);\n    });\n  });\n  builtInProp(Promise, \"reject\", function Promise$reject(msg) {\n    return new this(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n\n      reject(msg);\n    });\n  });\n  builtInProp(Promise, \"all\", function Promise$all(arr) {\n    var Constructor = this; // spec mandated checks\n\n    if (ToString.call(arr) != \"[object Array]\") {\n      return Constructor.reject(TypeError(\"Not an array\"));\n    }\n\n    if (arr.length === 0) {\n      return Constructor.resolve([]);\n    }\n\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n\n      var len = arr.length,\n          msgs = Array(len),\n          count = 0;\n      iteratePromises(Constructor, arr, function resolver(idx, msg) {\n        msgs[idx] = msg;\n\n        if (++count === len) {\n          resolve(msgs);\n        }\n      }, reject);\n    });\n  });\n  builtInProp(Promise, \"race\", function Promise$race(arr) {\n    var Constructor = this; // spec mandated checks\n\n    if (ToString.call(arr) != \"[object Array]\") {\n      return Constructor.reject(TypeError(\"Not an array\"));\n    }\n\n    return new Constructor(function executor(resolve, reject) {\n      if (typeof resolve != \"function\" || typeof reject != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n\n      iteratePromises(Constructor, arr, function resolver(idx, msg) {\n        resolve(msg);\n      }, reject);\n    });\n  });\n  return Promise;\n});","map":{"version":3,"sources":["C:/Projects/reactApp/frontend/node_modules/native-promise-only/lib/npo.src.js"],"names":["UMD","name","context","definition","module","exports","define","amd","$AMD$","global","DEF","builtInProp","cycle","scheduling_queue","ToString","Object","prototype","toString","timer","setImmediate","fn","setTimeout","defineProperty","obj","val","config","value","writable","configurable","err","Queue","first","last","item","Item","self","next","add","drain","f","call","schedule","isThenable","o","_then","o_type","then","notify","i","chain","length","notifyIsolated","state","success","failure","cb","ret","reject","msg","promise","TypeError","resolve","triggered","def","def_wrapper","MakeDefWrapper","$resolve$","apply","arguments","$reject$","iteratePromises","Constructor","arr","resolver","rejecter","idx","IIFE","$resolver$","MakeDef","Promise","executor","__NPO__","constructor","extractChain","push","$catch$","publicResolve","publicReject","PromisePrototype","Promise$resolve","Promise$reject","Promise$all","len","msgs","Array","count","Promise$race"],"mappings":"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","sourcesContent":["/*! Native Promise Only\n    v0.8.1 (c) Kyle Simpson\n    MIT License: http://getify.mit-license.org\n*/\n\n(function UMD(name,context,definition){\n\t// special form of UMD for polyfilling across evironments\n\tcontext[name] = context[name] || definition();\n\tif (typeof module != \"undefined\" && module.exports) { module.exports = context[name]; }\n\telse if (typeof define == \"function\" && define.amd) { define(function $AMD$(){ return context[name]; }); }\n})(\"Promise\",typeof global != \"undefined\" ? global : this,function DEF(){\n\t/*jshint validthis:true */\n\t\"use strict\";\n\n\tvar builtInProp, cycle, scheduling_queue,\n\t\tToString = Object.prototype.toString,\n\t\ttimer = (typeof setImmediate != \"undefined\") ?\n\t\t\tfunction timer(fn) { return setImmediate(fn); } :\n\t\t\tsetTimeout\n\t;\n\n\t// dammit, IE8.\n\ttry {\n\t\tObject.defineProperty({},\"x\",{});\n\t\tbuiltInProp = function builtInProp(obj,name,val,config) {\n\t\t\treturn Object.defineProperty(obj,name,{\n\t\t\t\tvalue: val,\n\t\t\t\twritable: true,\n\t\t\t\tconfigurable: config !== false\n\t\t\t});\n\t\t};\n\t}\n\tcatch (err) {\n\t\tbuiltInProp = function builtInProp(obj,name,val) {\n\t\t\tobj[name] = val;\n\t\t\treturn obj;\n\t\t};\n\t}\n\n\t// Note: using a queue instead of array for efficiency\n\tscheduling_queue = (function Queue() {\n\t\tvar first, last, item;\n\n\t\tfunction Item(fn,self) {\n\t\t\tthis.fn = fn;\n\t\t\tthis.self = self;\n\t\t\tthis.next = void 0;\n\t\t}\n\n\t\treturn {\n\t\t\tadd: function add(fn,self) {\n\t\t\t\titem = new Item(fn,self);\n\t\t\t\tif (last) {\n\t\t\t\t\tlast.next = item;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfirst = item;\n\t\t\t\t}\n\t\t\t\tlast = item;\n\t\t\t\titem = void 0;\n\t\t\t},\n\t\t\tdrain: function drain() {\n\t\t\t\tvar f = first;\n\t\t\t\tfirst = last = cycle = void 0;\n\n\t\t\t\twhile (f) {\n\t\t\t\t\tf.fn.call(f.self);\n\t\t\t\t\tf = f.next;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t})();\n\n\tfunction schedule(fn,self) {\n\t\tscheduling_queue.add(fn,self);\n\t\tif (!cycle) {\n\t\t\tcycle = timer(scheduling_queue.drain);\n\t\t}\n\t}\n\n\t// promise duck typing\n\tfunction isThenable(o) {\n\t\tvar _then, o_type = typeof o;\n\n\t\tif (o != null &&\n\t\t\t(\n\t\t\t\to_type == \"object\" || o_type == \"function\"\n\t\t\t)\n\t\t) {\n\t\t\t_then = o.then;\n\t\t}\n\t\treturn typeof _then == \"function\" ? _then : false;\n\t}\n\n\tfunction notify() {\n\t\tfor (var i=0; i<this.chain.length; i++) {\n\t\t\tnotifyIsolated(\n\t\t\t\tthis,\n\t\t\t\t(this.state === 1) ? this.chain[i].success : this.chain[i].failure,\n\t\t\t\tthis.chain[i]\n\t\t\t);\n\t\t}\n\t\tthis.chain.length = 0;\n\t}\n\n\t// NOTE: This is a separate function to isolate\n\t// the `try..catch` so that other code can be\n\t// optimized better\n\tfunction notifyIsolated(self,cb,chain) {\n\t\tvar ret, _then;\n\t\ttry {\n\t\t\tif (cb === false) {\n\t\t\t\tchain.reject(self.msg);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (cb === true) {\n\t\t\t\t\tret = self.msg;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tret = cb.call(void 0,self.msg);\n\t\t\t\t}\n\n\t\t\t\tif (ret === chain.promise) {\n\t\t\t\t\tchain.reject(TypeError(\"Promise-chain cycle\"));\n\t\t\t\t}\n\t\t\t\telse if (_then = isThenable(ret)) {\n\t\t\t\t\t_then.call(ret,chain.resolve,chain.reject);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tchain.resolve(ret);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcatch (err) {\n\t\t\tchain.reject(err);\n\t\t}\n\t}\n\n\tfunction resolve(msg) {\n\t\tvar _then, self = this;\n\n\t\t// already triggered?\n\t\tif (self.triggered) { return; }\n\n\t\tself.triggered = true;\n\n\t\t// unwrap\n\t\tif (self.def) {\n\t\t\tself = self.def;\n\t\t}\n\n\t\ttry {\n\t\t\tif (_then = isThenable(msg)) {\n\t\t\t\tschedule(function(){\n\t\t\t\t\tvar def_wrapper = new MakeDefWrapper(self);\n\t\t\t\t\ttry {\n\t\t\t\t\t\t_then.call(msg,\n\t\t\t\t\t\t\tfunction $resolve$(){ resolve.apply(def_wrapper,arguments); },\n\t\t\t\t\t\t\tfunction $reject$(){ reject.apply(def_wrapper,arguments); }\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tcatch (err) {\n\t\t\t\t\t\treject.call(def_wrapper,err);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tself.msg = msg;\n\t\t\t\tself.state = 1;\n\t\t\t\tif (self.chain.length > 0) {\n\t\t\t\t\tschedule(notify,self);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcatch (err) {\n\t\t\treject.call(new MakeDefWrapper(self),err);\n\t\t}\n\t}\n\n\tfunction reject(msg) {\n\t\tvar self = this;\n\n\t\t// already triggered?\n\t\tif (self.triggered) { return; }\n\n\t\tself.triggered = true;\n\n\t\t// unwrap\n\t\tif (self.def) {\n\t\t\tself = self.def;\n\t\t}\n\n\t\tself.msg = msg;\n\t\tself.state = 2;\n\t\tif (self.chain.length > 0) {\n\t\t\tschedule(notify,self);\n\t\t}\n\t}\n\n\tfunction iteratePromises(Constructor,arr,resolver,rejecter) {\n\t\tfor (var idx=0; idx<arr.length; idx++) {\n\t\t\t(function IIFE(idx){\n\t\t\t\tConstructor.resolve(arr[idx])\n\t\t\t\t.then(\n\t\t\t\t\tfunction $resolver$(msg){\n\t\t\t\t\t\tresolver(idx,msg);\n\t\t\t\t\t},\n\t\t\t\t\trejecter\n\t\t\t\t);\n\t\t\t})(idx);\n\t\t}\n\t}\n\n\tfunction MakeDefWrapper(self) {\n\t\tthis.def = self;\n\t\tthis.triggered = false;\n\t}\n\n\tfunction MakeDef(self) {\n\t\tthis.promise = self;\n\t\tthis.state = 0;\n\t\tthis.triggered = false;\n\t\tthis.chain = [];\n\t\tthis.msg = void 0;\n\t}\n\n\tfunction Promise(executor) {\n\t\tif (typeof executor != \"function\") {\n\t\t\tthrow TypeError(\"Not a function\");\n\t\t}\n\n\t\tif (this.__NPO__ !== 0) {\n\t\t\tthrow TypeError(\"Not a promise\");\n\t\t}\n\n\t\t// instance shadowing the inherited \"brand\"\n\t\t// to signal an already \"initialized\" promise\n\t\tthis.__NPO__ = 1;\n\n\t\tvar def = new MakeDef(this);\n\n\t\tthis[\"then\"] = function then(success,failure) {\n\t\t\tvar o = {\n\t\t\t\tsuccess: typeof success == \"function\" ? success : true,\n\t\t\t\tfailure: typeof failure == \"function\" ? failure : false\n\t\t\t};\n\t\t\t// Note: `then(..)` itself can be borrowed to be used against\n\t\t\t// a different promise constructor for making the chained promise,\n\t\t\t// by substituting a different `this` binding.\n\t\t\to.promise = new this.constructor(function extractChain(resolve,reject) {\n\t\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t\t}\n\n\t\t\t\to.resolve = resolve;\n\t\t\t\to.reject = reject;\n\t\t\t});\n\t\t\tdef.chain.push(o);\n\n\t\t\tif (def.state !== 0) {\n\t\t\t\tschedule(notify,def);\n\t\t\t}\n\n\t\t\treturn o.promise;\n\t\t};\n\t\tthis[\"catch\"] = function $catch$(failure) {\n\t\t\treturn this.then(void 0,failure);\n\t\t};\n\n\t\ttry {\n\t\t\texecutor.call(\n\t\t\t\tvoid 0,\n\t\t\t\tfunction publicResolve(msg){\n\t\t\t\t\tresolve.call(def,msg);\n\t\t\t\t},\n\t\t\t\tfunction publicReject(msg) {\n\t\t\t\t\treject.call(def,msg);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\tcatch (err) {\n\t\t\treject.call(def,err);\n\t\t}\n\t}\n\n\tvar PromisePrototype = builtInProp({},\"constructor\",Promise,\n\t\t/*configurable=*/false\n\t);\n\n\t// Note: Android 4 cannot use `Object.defineProperty(..)` here\n\tPromise.prototype = PromisePrototype;\n\n\t// built-in \"brand\" to signal an \"uninitialized\" promise\n\tbuiltInProp(PromisePrototype,\"__NPO__\",0,\n\t\t/*configurable=*/false\n\t);\n\n\tbuiltInProp(Promise,\"resolve\",function Promise$resolve(msg) {\n\t\tvar Constructor = this;\n\n\t\t// spec mandated checks\n\t\t// note: best \"isPromise\" check that's practical for now\n\t\tif (msg && typeof msg == \"object\" && msg.__NPO__ === 1) {\n\t\t\treturn msg;\n\t\t}\n\n\t\treturn new Constructor(function executor(resolve,reject){\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t}\n\n\t\t\tresolve(msg);\n\t\t});\n\t});\n\n\tbuiltInProp(Promise,\"reject\",function Promise$reject(msg) {\n\t\treturn new this(function executor(resolve,reject){\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t}\n\n\t\t\treject(msg);\n\t\t});\n\t});\n\n\tbuiltInProp(Promise,\"all\",function Promise$all(arr) {\n\t\tvar Constructor = this;\n\n\t\t// spec mandated checks\n\t\tif (ToString.call(arr) != \"[object Array]\") {\n\t\t\treturn Constructor.reject(TypeError(\"Not an array\"));\n\t\t}\n\t\tif (arr.length === 0) {\n\t\t\treturn Constructor.resolve([]);\n\t\t}\n\n\t\treturn new Constructor(function executor(resolve,reject){\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t}\n\n\t\t\tvar len = arr.length, msgs = Array(len), count = 0;\n\n\t\t\titeratePromises(Constructor,arr,function resolver(idx,msg) {\n\t\t\t\tmsgs[idx] = msg;\n\t\t\t\tif (++count === len) {\n\t\t\t\t\tresolve(msgs);\n\t\t\t\t}\n\t\t\t},reject);\n\t\t});\n\t});\n\n\tbuiltInProp(Promise,\"race\",function Promise$race(arr) {\n\t\tvar Constructor = this;\n\n\t\t// spec mandated checks\n\t\tif (ToString.call(arr) != \"[object Array]\") {\n\t\t\treturn Constructor.reject(TypeError(\"Not an array\"));\n\t\t}\n\n\t\treturn new Constructor(function executor(resolve,reject){\n\t\t\tif (typeof resolve != \"function\" || typeof reject != \"function\") {\n\t\t\t\tthrow TypeError(\"Not a function\");\n\t\t\t}\n\n\t\t\titeratePromises(Constructor,arr,function resolver(idx,msg){\n\t\t\t\tresolve(msg);\n\t\t\t},reject);\n\t\t});\n\t});\n\n\treturn Promise;\n});\n"]},"metadata":{},"sourceType":"script"}