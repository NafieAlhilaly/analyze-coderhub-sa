{"ast":null,"code":"'use strict';\n\nvar mat4X4 = require('gl-mat4');\n\nexports.init2dArray = function (rowLength, colLength) {\n  var array = new Array(rowLength);\n\n  for (var i = 0; i < rowLength; i++) array[i] = new Array(colLength);\n\n  return array;\n};\n/**\n * transpose a (possibly ragged) 2d array z. inspired by\n * http://stackoverflow.com/questions/17428587/\n * transposing-a-2d-array-in-javascript\n */\n\n\nexports.transposeRagged = function (z) {\n  var maxlen = 0;\n  var zlen = z.length;\n  var i, j; // Maximum row length:\n\n  for (i = 0; i < zlen; i++) maxlen = Math.max(maxlen, z[i].length);\n\n  var t = new Array(maxlen);\n\n  for (i = 0; i < maxlen; i++) {\n    t[i] = new Array(zlen);\n\n    for (j = 0; j < zlen; j++) t[i][j] = z[j][i];\n  }\n\n  return t;\n}; // our own dot function so that we don't need to include numeric\n\n\nexports.dot = function (x, y) {\n  if (!(x.length && y.length) || x.length !== y.length) return null;\n  var len = x.length;\n  var out;\n  var i;\n\n  if (x[0].length) {\n    // mat-vec or mat-mat\n    out = new Array(len);\n\n    for (i = 0; i < len; i++) out[i] = exports.dot(x[i], y);\n  } else if (y[0].length) {\n    // vec-mat\n    var yTranspose = exports.transposeRagged(y);\n    out = new Array(yTranspose.length);\n\n    for (i = 0; i < yTranspose.length; i++) out[i] = exports.dot(x, yTranspose[i]);\n  } else {\n    // vec-vec\n    out = 0;\n\n    for (i = 0; i < len; i++) out += x[i] * y[i];\n  }\n\n  return out;\n}; // translate by (x,y)\n\n\nexports.translationMatrix = function (x, y) {\n  return [[1, 0, x], [0, 1, y], [0, 0, 1]];\n}; // rotate by alpha around (0,0)\n\n\nexports.rotationMatrix = function (alpha) {\n  var a = alpha * Math.PI / 180;\n  return [[Math.cos(a), -Math.sin(a), 0], [Math.sin(a), Math.cos(a), 0], [0, 0, 1]];\n}; // rotate by alpha around (x,y)\n\n\nexports.rotationXYMatrix = function (a, x, y) {\n  return exports.dot(exports.dot(exports.translationMatrix(x, y), exports.rotationMatrix(a)), exports.translationMatrix(-x, -y));\n}; // applies a 3D transformation matrix to either x, y and z params\n// Note: z is optional\n\n\nexports.apply3DTransform = function (transform) {\n  return function () {\n    var args = arguments;\n    var xyz = arguments.length === 1 ? args[0] : [args[0], args[1], args[2] || 0];\n    return exports.dot(transform, [xyz[0], xyz[1], xyz[2], 1]).slice(0, 3);\n  };\n}; // applies a 2D transformation matrix to either x and y params or an [x,y] array\n\n\nexports.apply2DTransform = function (transform) {\n  return function () {\n    var args = arguments;\n\n    if (args.length === 3) {\n      args = args[0];\n    } // from map\n\n\n    var xy = arguments.length === 1 ? args[0] : [args[0], args[1]];\n    return exports.dot(transform, [xy[0], xy[1], 1]).slice(0, 2);\n  };\n}; // applies a 2D transformation matrix to an [x1,y1,x2,y2] array (to transform a segment)\n\n\nexports.apply2DTransform2 = function (transform) {\n  var at = exports.apply2DTransform(transform);\n  return function (xys) {\n    return at(xys.slice(0, 2)).concat(at(xys.slice(2, 4)));\n  };\n};\n\nexports.convertCssMatrix = function (m) {\n  if (m) {\n    var len = m.length;\n    if (len === 16) return m;\n\n    if (len === 6) {\n      // converts a 2x3 css transform matrix to a 4x4 matrix see https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix\n      return [m[0], m[1], 0, 0, m[2], m[3], 0, 0, 0, 0, 1, 0, m[4], m[5], 0, 1];\n    }\n  }\n\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}; // find the inverse for a 4x4 affine transform matrix\n\n\nexports.inverseTransformMatrix = function (m) {\n  var out = [];\n  mat4X4.invert(out, m);\n  return [[out[0], out[1], out[2], out[3]], [out[4], out[5], out[6], out[7]], [out[8], out[9], out[10], out[11]], [out[12], out[13], out[14], out[15]]];\n};","map":{"version":3,"sources":["C:/Projects/reactApp/frontend/node_modules/plotly.js/src/lib/matrix.js"],"names":["mat4X4","require","exports","init2dArray","rowLength","colLength","array","Array","i","transposeRagged","z","maxlen","zlen","length","j","Math","max","t","dot","x","y","len","out","yTranspose","translationMatrix","rotationMatrix","alpha","a","PI","cos","sin","rotationXYMatrix","apply3DTransform","transform","args","arguments","xyz","slice","apply2DTransform","xy","apply2DTransform2","at","xys","concat","convertCssMatrix","m","inverseTransformMatrix","invert"],"mappings":"AAAA;;AAEA,IAAIA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAApB;;AAEAC,OAAO,CAACC,WAAR,GAAsB,UAASC,SAAT,EAAoBC,SAApB,EAA+B;AACjD,MAAIC,KAAK,GAAG,IAAIC,KAAJ,CAAUH,SAAV,CAAZ;;AACA,OAAI,IAAII,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGJ,SAAnB,EAA8BI,CAAC,EAA/B,EAAmCF,KAAK,CAACE,CAAD,CAAL,GAAW,IAAID,KAAJ,CAAUF,SAAV,CAAX;;AACnC,SAAOC,KAAP;AACH,CAJD;AAMA;AACA;AACA;AACA;AACA;;;AACAJ,OAAO,CAACO,eAAR,GAA0B,UAASC,CAAT,EAAY;AAClC,MAAIC,MAAM,GAAG,CAAb;AACA,MAAIC,IAAI,GAAGF,CAAC,CAACG,MAAb;AACA,MAAIL,CAAJ,EAAOM,CAAP,CAHkC,CAIlC;;AACA,OAAIN,CAAC,GAAG,CAAR,EAAWA,CAAC,GAAGI,IAAf,EAAqBJ,CAAC,EAAtB,EAA0BG,MAAM,GAAGI,IAAI,CAACC,GAAL,CAASL,MAAT,EAAiBD,CAAC,CAACF,CAAD,CAAD,CAAKK,MAAtB,CAAT;;AAE1B,MAAII,CAAC,GAAG,IAAIV,KAAJ,CAAUI,MAAV,CAAR;;AACA,OAAIH,CAAC,GAAG,CAAR,EAAWA,CAAC,GAAGG,MAAf,EAAuBH,CAAC,EAAxB,EAA4B;AACxBS,IAAAA,CAAC,CAACT,CAAD,CAAD,GAAO,IAAID,KAAJ,CAAUK,IAAV,CAAP;;AACA,SAAIE,CAAC,GAAG,CAAR,EAAWA,CAAC,GAAGF,IAAf,EAAqBE,CAAC,EAAtB,EAA0BG,CAAC,CAACT,CAAD,CAAD,CAAKM,CAAL,IAAUJ,CAAC,CAACI,CAAD,CAAD,CAAKN,CAAL,CAAV;AAC7B;;AAED,SAAOS,CAAP;AACH,CAdD,C,CAgBA;;;AACAf,OAAO,CAACgB,GAAR,GAAc,UAASC,CAAT,EAAYC,CAAZ,EAAe;AACzB,MAAG,EAAED,CAAC,CAACN,MAAF,IAAYO,CAAC,CAACP,MAAhB,KAA2BM,CAAC,CAACN,MAAF,KAAaO,CAAC,CAACP,MAA7C,EAAqD,OAAO,IAAP;AAErD,MAAIQ,GAAG,GAAGF,CAAC,CAACN,MAAZ;AACA,MAAIS,GAAJ;AACA,MAAId,CAAJ;;AAEA,MAAGW,CAAC,CAAC,CAAD,CAAD,CAAKN,MAAR,EAAgB;AACZ;AACAS,IAAAA,GAAG,GAAG,IAAIf,KAAJ,CAAUc,GAAV,CAAN;;AACA,SAAIb,CAAC,GAAG,CAAR,EAAWA,CAAC,GAAGa,GAAf,EAAoBb,CAAC,EAArB,EAAyBc,GAAG,CAACd,CAAD,CAAH,GAASN,OAAO,CAACgB,GAAR,CAAYC,CAAC,CAACX,CAAD,CAAb,EAAkBY,CAAlB,CAAT;AAC5B,GAJD,MAIO,IAAGA,CAAC,CAAC,CAAD,CAAD,CAAKP,MAAR,EAAgB;AACnB;AACA,QAAIU,UAAU,GAAGrB,OAAO,CAACO,eAAR,CAAwBW,CAAxB,CAAjB;AACAE,IAAAA,GAAG,GAAG,IAAIf,KAAJ,CAAUgB,UAAU,CAACV,MAArB,CAAN;;AACA,SAAIL,CAAC,GAAG,CAAR,EAAWA,CAAC,GAAGe,UAAU,CAACV,MAA1B,EAAkCL,CAAC,EAAnC,EAAuCc,GAAG,CAACd,CAAD,CAAH,GAASN,OAAO,CAACgB,GAAR,CAAYC,CAAZ,EAAeI,UAAU,CAACf,CAAD,CAAzB,CAAT;AAC1C,GALM,MAKA;AACH;AACAc,IAAAA,GAAG,GAAG,CAAN;;AACA,SAAId,CAAC,GAAG,CAAR,EAAWA,CAAC,GAAGa,GAAf,EAAoBb,CAAC,EAArB,EAAyBc,GAAG,IAAIH,CAAC,CAACX,CAAD,CAAD,GAAOY,CAAC,CAACZ,CAAD,CAAf;AAC5B;;AAED,SAAOc,GAAP;AACH,CAvBD,C,CAyBA;;;AACApB,OAAO,CAACsB,iBAAR,GAA4B,UAASL,CAAT,EAAYC,CAAZ,EAAe;AACvC,SAAO,CAAC,CAAC,CAAD,EAAI,CAAJ,EAAOD,CAAP,CAAD,EAAY,CAAC,CAAD,EAAI,CAAJ,EAAOC,CAAP,CAAZ,EAAuB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAvB,CAAP;AACH,CAFD,C,CAIA;;;AACAlB,OAAO,CAACuB,cAAR,GAAyB,UAASC,KAAT,EAAgB;AACrC,MAAIC,CAAC,GAAGD,KAAK,GAAGX,IAAI,CAACa,EAAb,GAAkB,GAA1B;AACA,SAAO,CAAC,CAACb,IAAI,CAACc,GAAL,CAASF,CAAT,CAAD,EAAc,CAACZ,IAAI,CAACe,GAAL,CAASH,CAAT,CAAf,EAA4B,CAA5B,CAAD,EACC,CAACZ,IAAI,CAACe,GAAL,CAASH,CAAT,CAAD,EAAcZ,IAAI,CAACc,GAAL,CAASF,CAAT,CAAd,EAA2B,CAA3B,CADD,EAEC,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAFD,CAAP;AAGH,CALD,C,CAOA;;;AACAzB,OAAO,CAAC6B,gBAAR,GAA2B,UAASJ,CAAT,EAAYR,CAAZ,EAAeC,CAAf,EAAkB;AACzC,SAAOlB,OAAO,CAACgB,GAAR,CACHhB,OAAO,CAACgB,GAAR,CAAYhB,OAAO,CAACsB,iBAAR,CAA0BL,CAA1B,EAA6BC,CAA7B,CAAZ,EACYlB,OAAO,CAACuB,cAAR,CAAuBE,CAAvB,CADZ,CADG,EAGHzB,OAAO,CAACsB,iBAAR,CAA0B,CAACL,CAA3B,EAA8B,CAACC,CAA/B,CAHG,CAAP;AAIH,CALD,C,CAOA;AACA;;;AACAlB,OAAO,CAAC8B,gBAAR,GAA2B,UAASC,SAAT,EAAoB;AAC3C,SAAO,YAAW;AACd,QAAIC,IAAI,GAAGC,SAAX;AACA,QAAIC,GAAG,GAAGD,SAAS,CAACtB,MAAV,KAAqB,CAArB,GAAyBqB,IAAI,CAAC,CAAD,CAA7B,GAAmC,CAACA,IAAI,CAAC,CAAD,CAAL,EAAUA,IAAI,CAAC,CAAD,CAAd,EAAmBA,IAAI,CAAC,CAAD,CAAJ,IAAW,CAA9B,CAA7C;AACA,WAAOhC,OAAO,CAACgB,GAAR,CAAYe,SAAZ,EAAuB,CAACG,GAAG,CAAC,CAAD,CAAJ,EAASA,GAAG,CAAC,CAAD,CAAZ,EAAiBA,GAAG,CAAC,CAAD,CAApB,EAAyB,CAAzB,CAAvB,EAAoDC,KAApD,CAA0D,CAA1D,EAA6D,CAA7D,CAAP;AACH,GAJD;AAKH,CAND,C,CAQA;;;AACAnC,OAAO,CAACoC,gBAAR,GAA2B,UAASL,SAAT,EAAoB;AAC3C,SAAO,YAAW;AACd,QAAIC,IAAI,GAAGC,SAAX;;AACA,QAAGD,IAAI,CAACrB,MAAL,KAAgB,CAAnB,EAAsB;AAClBqB,MAAAA,IAAI,GAAGA,IAAI,CAAC,CAAD,CAAX;AACH,KAJa,CAIZ;;;AACF,QAAIK,EAAE,GAAGJ,SAAS,CAACtB,MAAV,KAAqB,CAArB,GAAyBqB,IAAI,CAAC,CAAD,CAA7B,GAAmC,CAACA,IAAI,CAAC,CAAD,CAAL,EAAUA,IAAI,CAAC,CAAD,CAAd,CAA5C;AACA,WAAOhC,OAAO,CAACgB,GAAR,CAAYe,SAAZ,EAAuB,CAACM,EAAE,CAAC,CAAD,CAAH,EAAQA,EAAE,CAAC,CAAD,CAAV,EAAe,CAAf,CAAvB,EAA0CF,KAA1C,CAAgD,CAAhD,EAAmD,CAAnD,CAAP;AACH,GAPD;AAQH,CATD,C,CAWA;;;AACAnC,OAAO,CAACsC,iBAAR,GAA4B,UAASP,SAAT,EAAoB;AAC5C,MAAIQ,EAAE,GAAGvC,OAAO,CAACoC,gBAAR,CAAyBL,SAAzB,CAAT;AACA,SAAO,UAASS,GAAT,EAAc;AACjB,WAAOD,EAAE,CAACC,GAAG,CAACL,KAAJ,CAAU,CAAV,EAAa,CAAb,CAAD,CAAF,CAAoBM,MAApB,CAA2BF,EAAE,CAACC,GAAG,CAACL,KAAJ,CAAU,CAAV,EAAa,CAAb,CAAD,CAA7B,CAAP;AACH,GAFD;AAGH,CALD;;AAOAnC,OAAO,CAAC0C,gBAAR,GAA2B,UAASC,CAAT,EAAY;AACnC,MAAGA,CAAH,EAAM;AACF,QAAIxB,GAAG,GAAGwB,CAAC,CAAChC,MAAZ;AACA,QAAGQ,GAAG,KAAK,EAAX,EAAe,OAAOwB,CAAP;;AACf,QAAGxB,GAAG,KAAK,CAAX,EAAc;AACV;AACA,aAAO,CACHwB,CAAC,CAAC,CAAD,CADE,EACGA,CAAC,CAAC,CAAD,CADJ,EACS,CADT,EACY,CADZ,EAEHA,CAAC,CAAC,CAAD,CAFE,EAEGA,CAAC,CAAC,CAAD,CAFJ,EAES,CAFT,EAEY,CAFZ,EAGH,CAHG,EAGA,CAHA,EAGG,CAHH,EAGM,CAHN,EAIHA,CAAC,CAAC,CAAD,CAJE,EAIGA,CAAC,CAAC,CAAD,CAJJ,EAIS,CAJT,EAIY,CAJZ,CAAP;AAMH;AACJ;;AACD,SAAO,CACH,CADG,EACA,CADA,EACG,CADH,EACM,CADN,EAEH,CAFG,EAEA,CAFA,EAEG,CAFH,EAEM,CAFN,EAGH,CAHG,EAGA,CAHA,EAGG,CAHH,EAGM,CAHN,EAIH,CAJG,EAIA,CAJA,EAIG,CAJH,EAIM,CAJN,CAAP;AAMH,CApBD,C,CAsBA;;;AACA3C,OAAO,CAAC4C,sBAAR,GAAiC,UAASD,CAAT,EAAY;AACzC,MAAIvB,GAAG,GAAG,EAAV;AACAtB,EAAAA,MAAM,CAAC+C,MAAP,CAAczB,GAAd,EAAmBuB,CAAnB;AACA,SAAO,CACH,CAACvB,GAAG,CAAC,CAAD,CAAJ,EAASA,GAAG,CAAC,CAAD,CAAZ,EAAiBA,GAAG,CAAC,CAAD,CAApB,EAAyBA,GAAG,CAAC,CAAD,CAA5B,CADG,EAEH,CAACA,GAAG,CAAC,CAAD,CAAJ,EAASA,GAAG,CAAC,CAAD,CAAZ,EAAiBA,GAAG,CAAC,CAAD,CAApB,EAAyBA,GAAG,CAAC,CAAD,CAA5B,CAFG,EAGH,CAACA,GAAG,CAAC,CAAD,CAAJ,EAASA,GAAG,CAAC,CAAD,CAAZ,EAAiBA,GAAG,CAAC,EAAD,CAApB,EAA0BA,GAAG,CAAC,EAAD,CAA7B,CAHG,EAIH,CAACA,GAAG,CAAC,EAAD,CAAJ,EAAUA,GAAG,CAAC,EAAD,CAAb,EAAmBA,GAAG,CAAC,EAAD,CAAtB,EAA4BA,GAAG,CAAC,EAAD,CAA/B,CAJG,CAAP;AAMH,CATD","sourcesContent":["'use strict';\n\nvar mat4X4 = require('gl-mat4');\n\nexports.init2dArray = function(rowLength, colLength) {\n    var array = new Array(rowLength);\n    for(var i = 0; i < rowLength; i++) array[i] = new Array(colLength);\n    return array;\n};\n\n/**\n * transpose a (possibly ragged) 2d array z. inspired by\n * http://stackoverflow.com/questions/17428587/\n * transposing-a-2d-array-in-javascript\n */\nexports.transposeRagged = function(z) {\n    var maxlen = 0;\n    var zlen = z.length;\n    var i, j;\n    // Maximum row length:\n    for(i = 0; i < zlen; i++) maxlen = Math.max(maxlen, z[i].length);\n\n    var t = new Array(maxlen);\n    for(i = 0; i < maxlen; i++) {\n        t[i] = new Array(zlen);\n        for(j = 0; j < zlen; j++) t[i][j] = z[j][i];\n    }\n\n    return t;\n};\n\n// our own dot function so that we don't need to include numeric\nexports.dot = function(x, y) {\n    if(!(x.length && y.length) || x.length !== y.length) return null;\n\n    var len = x.length;\n    var out;\n    var i;\n\n    if(x[0].length) {\n        // mat-vec or mat-mat\n        out = new Array(len);\n        for(i = 0; i < len; i++) out[i] = exports.dot(x[i], y);\n    } else if(y[0].length) {\n        // vec-mat\n        var yTranspose = exports.transposeRagged(y);\n        out = new Array(yTranspose.length);\n        for(i = 0; i < yTranspose.length; i++) out[i] = exports.dot(x, yTranspose[i]);\n    } else {\n        // vec-vec\n        out = 0;\n        for(i = 0; i < len; i++) out += x[i] * y[i];\n    }\n\n    return out;\n};\n\n// translate by (x,y)\nexports.translationMatrix = function(x, y) {\n    return [[1, 0, x], [0, 1, y], [0, 0, 1]];\n};\n\n// rotate by alpha around (0,0)\nexports.rotationMatrix = function(alpha) {\n    var a = alpha * Math.PI / 180;\n    return [[Math.cos(a), -Math.sin(a), 0],\n            [Math.sin(a), Math.cos(a), 0],\n            [0, 0, 1]];\n};\n\n// rotate by alpha around (x,y)\nexports.rotationXYMatrix = function(a, x, y) {\n    return exports.dot(\n        exports.dot(exports.translationMatrix(x, y),\n                    exports.rotationMatrix(a)),\n        exports.translationMatrix(-x, -y));\n};\n\n// applies a 3D transformation matrix to either x, y and z params\n// Note: z is optional\nexports.apply3DTransform = function(transform) {\n    return function() {\n        var args = arguments;\n        var xyz = arguments.length === 1 ? args[0] : [args[0], args[1], args[2] || 0];\n        return exports.dot(transform, [xyz[0], xyz[1], xyz[2], 1]).slice(0, 3);\n    };\n};\n\n// applies a 2D transformation matrix to either x and y params or an [x,y] array\nexports.apply2DTransform = function(transform) {\n    return function() {\n        var args = arguments;\n        if(args.length === 3) {\n            args = args[0];\n        } // from map\n        var xy = arguments.length === 1 ? args[0] : [args[0], args[1]];\n        return exports.dot(transform, [xy[0], xy[1], 1]).slice(0, 2);\n    };\n};\n\n// applies a 2D transformation matrix to an [x1,y1,x2,y2] array (to transform a segment)\nexports.apply2DTransform2 = function(transform) {\n    var at = exports.apply2DTransform(transform);\n    return function(xys) {\n        return at(xys.slice(0, 2)).concat(at(xys.slice(2, 4)));\n    };\n};\n\nexports.convertCssMatrix = function(m) {\n    if(m) {\n        var len = m.length;\n        if(len === 16) return m;\n        if(len === 6) {\n            // converts a 2x3 css transform matrix to a 4x4 matrix see https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix\n            return [\n                m[0], m[1], 0, 0,\n                m[2], m[3], 0, 0,\n                0, 0, 1, 0,\n                m[4], m[5], 0, 1\n            ];\n        }\n    }\n    return [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1\n    ];\n};\n\n// find the inverse for a 4x4 affine transform matrix\nexports.inverseTransformMatrix = function(m) {\n    var out = [];\n    mat4X4.invert(out, m);\n    return [\n        [out[0], out[1], out[2], out[3]],\n        [out[4], out[5], out[6], out[7]],\n        [out[8], out[9], out[10], out[11]],\n        [out[12], out[13], out[14], out[15]]\n    ];\n};\n"]},"metadata":{},"sourceType":"script"}