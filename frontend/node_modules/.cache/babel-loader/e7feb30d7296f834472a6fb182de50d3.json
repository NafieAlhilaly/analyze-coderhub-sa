{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\n\nvar handleGroupingDefaults = require('../bar/defaults').handleGroupingDefaults;\n\nvar handleText = require('../bar/defaults').handleText;\n\nvar handleXYDefaults = require('../scatter/xy_defaults');\n\nvar handlePeriodDefaults = require('../scatter/period_defaults');\n\nvar attributes = require('./attributes');\n\nvar Color = require('../../components/color');\n\nvar delta = require('../../constants/delta.js');\n\nvar INCREASING_COLOR = delta.INCREASING.COLOR;\nvar DECREASING_COLOR = delta.DECREASING.COLOR;\nvar TOTALS_COLOR = '#4499FF';\n\nfunction handleDirection(coerce, direction, defaultColor) {\n  coerce(direction + '.marker.color', defaultColor);\n  coerce(direction + '.marker.line.color', Color.defaultLine);\n  coerce(direction + '.marker.line.width');\n}\n\nfunction supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  }\n\n  var len = handleXYDefaults(traceIn, traceOut, layout, coerce);\n\n  if (!len) {\n    traceOut.visible = false;\n    return;\n  }\n\n  handlePeriodDefaults(traceIn, traceOut, layout, coerce);\n  coerce('xhoverformat');\n  coerce('yhoverformat');\n  coerce('measure');\n  coerce('orientation', traceOut.x && !traceOut.y ? 'h' : 'v');\n  coerce('base');\n  coerce('offset');\n  coerce('width');\n  coerce('text');\n  coerce('hovertext');\n  coerce('hovertemplate');\n  var textposition = coerce('textposition');\n  handleText(traceIn, traceOut, layout, coerce, textposition, {\n    moduleHasSelected: false,\n    moduleHasUnselected: false,\n    moduleHasConstrain: true,\n    moduleHasCliponaxis: true,\n    moduleHasTextangle: true,\n    moduleHasInsideanchor: true\n  });\n\n  if (traceOut.textposition !== 'none') {\n    coerce('texttemplate');\n    if (!traceOut.texttemplate) coerce('textinfo');\n  }\n\n  handleDirection(coerce, 'increasing', INCREASING_COLOR);\n  handleDirection(coerce, 'decreasing', DECREASING_COLOR);\n  handleDirection(coerce, 'totals', TOTALS_COLOR);\n  var connectorVisible = coerce('connector.visible');\n\n  if (connectorVisible) {\n    coerce('connector.mode');\n    var connectorLineWidth = coerce('connector.line.width');\n\n    if (connectorLineWidth) {\n      coerce('connector.line.color');\n      coerce('connector.line.dash');\n    }\n  }\n}\n\nfunction crossTraceDefaults(fullData, fullLayout) {\n  var traceIn, traceOut;\n\n  function coerce(attr) {\n    return Lib.coerce(traceOut._input, traceOut, attributes, attr);\n  }\n\n  if (fullLayout.waterfallmode === 'group') {\n    for (var i = 0; i < fullData.length; i++) {\n      traceOut = fullData[i];\n      traceIn = traceOut._input;\n      handleGroupingDefaults(traceIn, traceOut, fullLayout, coerce);\n    }\n  }\n}\n\nmodule.exports = {\n  supplyDefaults: supplyDefaults,\n  crossTraceDefaults: crossTraceDefaults\n};","map":{"version":3,"sources":["C:/Projects/reactApp/frontend/node_modules/plotly.js/src/traces/waterfall/defaults.js"],"names":["Lib","require","handleGroupingDefaults","handleText","handleXYDefaults","handlePeriodDefaults","attributes","Color","delta","INCREASING_COLOR","INCREASING","COLOR","DECREASING_COLOR","DECREASING","TOTALS_COLOR","handleDirection","coerce","direction","defaultColor","defaultLine","supplyDefaults","traceIn","traceOut","layout","attr","dflt","len","visible","x","y","textposition","moduleHasSelected","moduleHasUnselected","moduleHasConstrain","moduleHasCliponaxis","moduleHasTextangle","moduleHasInsideanchor","texttemplate","connectorVisible","connectorLineWidth","crossTraceDefaults","fullData","fullLayout","_input","waterfallmode","i","length","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar Lib = require('../../lib');\n\nvar handleGroupingDefaults = require('../bar/defaults').handleGroupingDefaults;\nvar handleText = require('../bar/defaults').handleText;\nvar handleXYDefaults = require('../scatter/xy_defaults');\nvar handlePeriodDefaults = require('../scatter/period_defaults');\nvar attributes = require('./attributes');\nvar Color = require('../../components/color');\nvar delta = require('../../constants/delta.js');\n\nvar INCREASING_COLOR = delta.INCREASING.COLOR;\nvar DECREASING_COLOR = delta.DECREASING.COLOR;\nvar TOTALS_COLOR = '#4499FF';\n\nfunction handleDirection(coerce, direction, defaultColor) {\n    coerce(direction + '.marker.color', defaultColor);\n    coerce(direction + '.marker.line.color', Color.defaultLine);\n    coerce(direction + '.marker.line.width');\n}\n\nfunction supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n    }\n\n    var len = handleXYDefaults(traceIn, traceOut, layout, coerce);\n    if(!len) {\n        traceOut.visible = false;\n        return;\n    }\n\n    handlePeriodDefaults(traceIn, traceOut, layout, coerce);\n    coerce('xhoverformat');\n    coerce('yhoverformat');\n\n    coerce('measure');\n\n    coerce('orientation', (traceOut.x && !traceOut.y) ? 'h' : 'v');\n    coerce('base');\n    coerce('offset');\n    coerce('width');\n\n    coerce('text');\n\n    coerce('hovertext');\n    coerce('hovertemplate');\n\n    var textposition = coerce('textposition');\n    handleText(traceIn, traceOut, layout, coerce, textposition, {\n        moduleHasSelected: false,\n        moduleHasUnselected: false,\n        moduleHasConstrain: true,\n        moduleHasCliponaxis: true,\n        moduleHasTextangle: true,\n        moduleHasInsideanchor: true\n    });\n\n\n    if(traceOut.textposition !== 'none') {\n        coerce('texttemplate');\n        if(!traceOut.texttemplate) coerce('textinfo');\n    }\n\n    handleDirection(coerce, 'increasing', INCREASING_COLOR);\n    handleDirection(coerce, 'decreasing', DECREASING_COLOR);\n    handleDirection(coerce, 'totals', TOTALS_COLOR);\n\n    var connectorVisible = coerce('connector.visible');\n    if(connectorVisible) {\n        coerce('connector.mode');\n        var connectorLineWidth = coerce('connector.line.width');\n        if(connectorLineWidth) {\n            coerce('connector.line.color');\n            coerce('connector.line.dash');\n        }\n    }\n}\n\nfunction crossTraceDefaults(fullData, fullLayout) {\n    var traceIn, traceOut;\n\n    function coerce(attr) {\n        return Lib.coerce(traceOut._input, traceOut, attributes, attr);\n    }\n\n    if(fullLayout.waterfallmode === 'group') {\n        for(var i = 0; i < fullData.length; i++) {\n            traceOut = fullData[i];\n            traceIn = traceOut._input;\n\n            handleGroupingDefaults(traceIn, traceOut, fullLayout, coerce);\n        }\n    }\n}\n\nmodule.exports = {\n    supplyDefaults: supplyDefaults,\n    crossTraceDefaults: crossTraceDefaults\n};\n"]},"metadata":{},"sourceType":"script"}