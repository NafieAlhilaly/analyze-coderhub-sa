{"ast":null,"code":"'use strict';\n\nvar isNumeric = require('fast-isnumeric');\n\nvar isMobileOrTablet = require('is-mobile');\n\nmodule.exports = function preserveDrawingBuffer(opts) {\n  var ua;\n\n  if (opts && opts.hasOwnProperty('userAgent')) {\n    ua = opts.userAgent;\n  } else {\n    ua = getUserAgent();\n  }\n\n  if (typeof ua !== 'string') return true;\n  var enable = isMobileOrTablet({\n    ua: {\n      headers: {\n        'user-agent': ua\n      }\n    },\n    tablet: true,\n    featureDetect: false\n  });\n\n  if (!enable) {\n    var allParts = ua.split(' ');\n\n    for (var i = 1; i < allParts.length; i++) {\n      var part = allParts[i];\n\n      if (part.indexOf('Safari') !== -1) {\n        // find Safari version\n        for (var k = i - 1; k > -1; k--) {\n          var prevPart = allParts[k];\n\n          if (prevPart.substr(0, 8) === 'Version/') {\n            var v = prevPart.substr(8).split('.')[0];\n            if (isNumeric(v)) v = +v;\n            if (v >= 13) return true;\n          }\n        }\n      }\n    }\n  }\n\n  return enable;\n};\n\nfunction getUserAgent() {\n  // similar to https://github.com/juliangruber/is-mobile/blob/91ca39ccdd4cfc5edfb5391e2515b923a730fbea/index.js#L14-L17\n  var ua;\n\n  if (typeof navigator !== 'undefined') {\n    ua = navigator.userAgent;\n  }\n\n  if (ua && ua.headers && typeof ua.headers['user-agent'] === 'string') {\n    ua = ua.headers['user-agent'];\n  }\n\n  return ua;\n}","map":{"version":3,"sources":["C:/Projects/reactApp/frontend/node_modules/plotly.js/src/lib/preserve_drawing_buffer.js"],"names":["isNumeric","require","isMobileOrTablet","module","exports","preserveDrawingBuffer","opts","ua","hasOwnProperty","userAgent","getUserAgent","enable","headers","tablet","featureDetect","allParts","split","i","length","part","indexOf","k","prevPart","substr","v","navigator"],"mappings":"AAAA;;AAEA,IAAIA,SAAS,GAAGC,OAAO,CAAC,gBAAD,CAAvB;;AACA,IAAIC,gBAAgB,GAAGD,OAAO,CAAC,WAAD,CAA9B;;AAEAE,MAAM,CAACC,OAAP,GAAiB,SAASC,qBAAT,CAA+BC,IAA/B,EAAqC;AAClD,MAAIC,EAAJ;;AAEA,MAAGD,IAAI,IAAIA,IAAI,CAACE,cAAL,CAAoB,WAApB,CAAX,EAA6C;AACzCD,IAAAA,EAAE,GAAGD,IAAI,CAACG,SAAV;AACH,GAFD,MAEO;AACHF,IAAAA,EAAE,GAAGG,YAAY,EAAjB;AACH;;AAED,MAAG,OAAOH,EAAP,KAAc,QAAjB,EAA2B,OAAO,IAAP;AAE3B,MAAII,MAAM,GAAGT,gBAAgB,CAAC;AAC1BK,IAAAA,EAAE,EAAE;AAAEK,MAAAA,OAAO,EAAE;AAAC,sBAAcL;AAAf;AAAX,KADsB;AAE1BM,IAAAA,MAAM,EAAE,IAFkB;AAG1BC,IAAAA,aAAa,EAAE;AAHW,GAAD,CAA7B;;AAMA,MAAG,CAACH,MAAJ,EAAY;AACR,QAAII,QAAQ,GAAGR,EAAE,CAACS,KAAH,CAAS,GAAT,CAAf;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGF,QAAQ,CAACG,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrC,UAAIE,IAAI,GAAGJ,QAAQ,CAACE,CAAD,CAAnB;;AACA,UAAGE,IAAI,CAACC,OAAL,CAAa,QAAb,MAA2B,CAAC,CAA/B,EAAkC;AAC9B;AACA,aAAI,IAAIC,CAAC,GAAGJ,CAAC,GAAG,CAAhB,EAAmBI,CAAC,GAAG,CAAC,CAAxB,EAA2BA,CAAC,EAA5B,EAAgC;AAC5B,cAAIC,QAAQ,GAAGP,QAAQ,CAACM,CAAD,CAAvB;;AACA,cAAGC,QAAQ,CAACC,MAAT,CAAgB,CAAhB,EAAmB,CAAnB,MAA0B,UAA7B,EAAyC;AACrC,gBAAIC,CAAC,GAAGF,QAAQ,CAACC,MAAT,CAAgB,CAAhB,EAAmBP,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAR;AACA,gBAAGhB,SAAS,CAACwB,CAAD,CAAZ,EAAiBA,CAAC,GAAG,CAACA,CAAL;AACjB,gBAAGA,CAAC,IAAI,EAAR,EAAY,OAAO,IAAP;AACf;AACJ;AACJ;AACJ;AACJ;;AAED,SAAOb,MAAP;AACH,CApCD;;AAsCA,SAASD,YAAT,GAAwB;AACpB;AACA,MAAIH,EAAJ;;AACA,MAAG,OAAOkB,SAAP,KAAqB,WAAxB,EAAqC;AACjClB,IAAAA,EAAE,GAAGkB,SAAS,CAAChB,SAAf;AACH;;AAED,MACIF,EAAE,IACFA,EAAE,CAACK,OADH,IAEA,OAAOL,EAAE,CAACK,OAAH,CAAW,YAAX,CAAP,KAAoC,QAHxC,EAIE;AACEL,IAAAA,EAAE,GAAGA,EAAE,CAACK,OAAH,CAAW,YAAX,CAAL;AACH;;AAED,SAAOL,EAAP;AACH","sourcesContent":["'use strict';\n\nvar isNumeric = require('fast-isnumeric');\nvar isMobileOrTablet = require('is-mobile');\n\nmodule.exports = function preserveDrawingBuffer(opts) {\n    var ua;\n\n    if(opts && opts.hasOwnProperty('userAgent')) {\n        ua = opts.userAgent;\n    } else {\n        ua = getUserAgent();\n    }\n\n    if(typeof ua !== 'string') return true;\n\n    var enable = isMobileOrTablet({\n        ua: { headers: {'user-agent': ua }},\n        tablet: true,\n        featureDetect: false\n    });\n\n    if(!enable) {\n        var allParts = ua.split(' ');\n        for(var i = 1; i < allParts.length; i++) {\n            var part = allParts[i];\n            if(part.indexOf('Safari') !== -1) {\n                // find Safari version\n                for(var k = i - 1; k > -1; k--) {\n                    var prevPart = allParts[k];\n                    if(prevPart.substr(0, 8) === 'Version/') {\n                        var v = prevPart.substr(8).split('.')[0];\n                        if(isNumeric(v)) v = +v;\n                        if(v >= 13) return true;\n                    }\n                }\n            }\n        }\n    }\n\n    return enable;\n};\n\nfunction getUserAgent() {\n    // similar to https://github.com/juliangruber/is-mobile/blob/91ca39ccdd4cfc5edfb5391e2515b923a730fbea/index.js#L14-L17\n    var ua;\n    if(typeof navigator !== 'undefined') {\n        ua = navigator.userAgent;\n    }\n\n    if(\n        ua &&\n        ua.headers &&\n        typeof ua.headers['user-agent'] === 'string'\n    ) {\n        ua = ua.headers['user-agent'];\n    }\n\n    return ua;\n}\n"]},"metadata":{},"sourceType":"script"}