{"ast":null,"code":"'use strict';\n\nvar Lib = require('../lib');\n\nvar helpers = require('./helpers');\n/*\n* substantial portions of this code from FileSaver.js\n* https://github.com/eligrey/FileSaver.js\n* License: https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n* 1.1.20160328\n*\n* By Eli Grey, http://eligrey.com\n* License: MIT\n*   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n*/\n\n\nfunction fileSaver(url, name, format) {\n  var saveLink = document.createElement('a');\n  var canUseSaveLink = ('download' in saveLink);\n  var promise = new Promise(function (resolve, reject) {\n    var blob;\n    var objectUrl; // IE 10+ (native saveAs)\n\n    if (Lib.isIE()) {\n      // At this point we are only dealing with a decoded SVG as\n      // a data URL (since IE only supports SVG)\n      blob = helpers.createBlob(url, 'svg');\n      window.navigator.msSaveBlob(blob, name);\n      blob = null;\n      return resolve(name);\n    }\n\n    if (canUseSaveLink) {\n      blob = helpers.createBlob(url, format);\n      objectUrl = helpers.createObjectURL(blob);\n      saveLink.href = objectUrl;\n      saveLink.download = name;\n      document.body.appendChild(saveLink);\n      saveLink.click();\n      document.body.removeChild(saveLink);\n      helpers.revokeObjectURL(objectUrl);\n      blob = null;\n      return resolve(name);\n    } // Older versions of Safari did not allow downloading of blob urls\n\n\n    if (Lib.isSafari()) {\n      var prefix = format === 'svg' ? ',' : ';base64,';\n      helpers.octetStream(prefix + encodeURIComponent(url));\n      return resolve(name);\n    }\n\n    reject(new Error('download error'));\n  });\n  return promise;\n}\n\nmodule.exports = fileSaver;","map":{"version":3,"sources":["C:/Projects/reactApp/frontend/node_modules/plotly.js/src/snapshot/filesaver.js"],"names":["Lib","require","helpers","fileSaver","url","name","format","saveLink","document","createElement","canUseSaveLink","promise","Promise","resolve","reject","blob","objectUrl","isIE","createBlob","window","navigator","msSaveBlob","createObjectURL","href","download","body","appendChild","click","removeChild","revokeObjectURL","isSafari","prefix","octetStream","encodeURIComponent","Error","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAC,QAAD,CAAjB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,WAAD,CAArB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASE,SAAT,CAAmBC,GAAnB,EAAwBC,IAAxB,EAA8BC,MAA9B,EAAsC;AAClC,MAAIC,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAf;AACA,MAAIC,cAAc,IAAG,cAAcH,QAAjB,CAAlB;AAEA,MAAII,OAAO,GAAG,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAChD,QAAIC,IAAJ;AACA,QAAIC,SAAJ,CAFgD,CAIhD;;AACA,QAAGhB,GAAG,CAACiB,IAAJ,EAAH,EAAe;AACX;AACA;AACAF,MAAAA,IAAI,GAAGb,OAAO,CAACgB,UAAR,CAAmBd,GAAnB,EAAwB,KAAxB,CAAP;AACAe,MAAAA,MAAM,CAACC,SAAP,CAAiBC,UAAjB,CAA4BN,IAA5B,EAAkCV,IAAlC;AACAU,MAAAA,IAAI,GAAG,IAAP;AACA,aAAOF,OAAO,CAACR,IAAD,CAAd;AACH;;AAED,QAAGK,cAAH,EAAmB;AACfK,MAAAA,IAAI,GAAGb,OAAO,CAACgB,UAAR,CAAmBd,GAAnB,EAAwBE,MAAxB,CAAP;AACAU,MAAAA,SAAS,GAAGd,OAAO,CAACoB,eAAR,CAAwBP,IAAxB,CAAZ;AAEAR,MAAAA,QAAQ,CAACgB,IAAT,GAAgBP,SAAhB;AACAT,MAAAA,QAAQ,CAACiB,QAAT,GAAoBnB,IAApB;AACAG,MAAAA,QAAQ,CAACiB,IAAT,CAAcC,WAAd,CAA0BnB,QAA1B;AACAA,MAAAA,QAAQ,CAACoB,KAAT;AAEAnB,MAAAA,QAAQ,CAACiB,IAAT,CAAcG,WAAd,CAA0BrB,QAA1B;AACAL,MAAAA,OAAO,CAAC2B,eAAR,CAAwBb,SAAxB;AACAD,MAAAA,IAAI,GAAG,IAAP;AAEA,aAAOF,OAAO,CAACR,IAAD,CAAd;AACH,KA5B+C,CA8BhD;;;AACA,QAAGL,GAAG,CAAC8B,QAAJ,EAAH,EAAmB;AACf,UAAIC,MAAM,GAAGzB,MAAM,KAAK,KAAX,GAAmB,GAAnB,GAAyB,UAAtC;AACAJ,MAAAA,OAAO,CAAC8B,WAAR,CAAoBD,MAAM,GAAGE,kBAAkB,CAAC7B,GAAD,CAA/C;AACA,aAAOS,OAAO,CAACR,IAAD,CAAd;AACH;;AAEDS,IAAAA,MAAM,CAAC,IAAIoB,KAAJ,CAAU,gBAAV,CAAD,CAAN;AACH,GAtCa,CAAd;AAwCA,SAAOvB,OAAP;AACH;;AAGDwB,MAAM,CAACC,OAAP,GAAiBjC,SAAjB","sourcesContent":["'use strict';\n\nvar Lib = require('../lib');\nvar helpers = require('./helpers');\n\n/*\n* substantial portions of this code from FileSaver.js\n* https://github.com/eligrey/FileSaver.js\n* License: https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n* 1.1.20160328\n*\n* By Eli Grey, http://eligrey.com\n* License: MIT\n*   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n*/\nfunction fileSaver(url, name, format) {\n    var saveLink = document.createElement('a');\n    var canUseSaveLink = 'download' in saveLink;\n\n    var promise = new Promise(function(resolve, reject) {\n        var blob;\n        var objectUrl;\n\n        // IE 10+ (native saveAs)\n        if(Lib.isIE()) {\n            // At this point we are only dealing with a decoded SVG as\n            // a data URL (since IE only supports SVG)\n            blob = helpers.createBlob(url, 'svg');\n            window.navigator.msSaveBlob(blob, name);\n            blob = null;\n            return resolve(name);\n        }\n\n        if(canUseSaveLink) {\n            blob = helpers.createBlob(url, format);\n            objectUrl = helpers.createObjectURL(blob);\n\n            saveLink.href = objectUrl;\n            saveLink.download = name;\n            document.body.appendChild(saveLink);\n            saveLink.click();\n\n            document.body.removeChild(saveLink);\n            helpers.revokeObjectURL(objectUrl);\n            blob = null;\n\n            return resolve(name);\n        }\n\n        // Older versions of Safari did not allow downloading of blob urls\n        if(Lib.isSafari()) {\n            var prefix = format === 'svg' ? ',' : ';base64,';\n            helpers.octetStream(prefix + encodeURIComponent(url));\n            return resolve(name);\n        }\n\n        reject(new Error('download error'));\n    });\n\n    return promise;\n}\n\n\nmodule.exports = fileSaver;\n"]},"metadata":{},"sourceType":"script"}