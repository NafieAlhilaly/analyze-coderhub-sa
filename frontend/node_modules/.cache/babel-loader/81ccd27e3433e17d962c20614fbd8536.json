{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\n\nvar attributes = require('./attributes');\n\nvar constants = require('./constants');\n\nvar dataUri = require('../../snapshot/helpers').IMAGE_URL_PREFIX;\n\nmodule.exports = function supplyDefaults(traceIn, traceOut) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  }\n\n  coerce('source'); // sanitize source to only allow for data URI representing images\n\n  if (traceOut.source && !traceOut.source.match(dataUri)) delete traceOut.source;\n  traceOut._hasSource = !!traceOut.source;\n  var z = coerce('z');\n  traceOut._hasZ = !(z === undefined || !z.length || !z[0] || !z[0].length);\n\n  if (!traceOut._hasZ && !traceOut._hasSource) {\n    traceOut.visible = false;\n    return;\n  }\n\n  coerce('x0');\n  coerce('y0');\n  coerce('dx');\n  coerce('dy');\n  var cm;\n\n  if (traceOut._hasZ) {\n    coerce('colormodel', 'rgb');\n    cm = constants.colormodel[traceOut.colormodel];\n    coerce('zmin', cm.zminDflt || cm.min);\n    coerce('zmax', cm.zmaxDflt || cm.max);\n  } else if (traceOut._hasSource) {\n    traceOut.colormodel = 'rgba256';\n    cm = constants.colormodel[traceOut.colormodel];\n    traceOut.zmin = cm.zminDflt;\n    traceOut.zmax = cm.zmaxDflt;\n  }\n\n  coerce('zsmooth');\n  coerce('text');\n  coerce('hovertext');\n  coerce('hovertemplate');\n  traceOut._length = null;\n};","map":{"version":3,"sources":["C:/Projects/reactApp/frontend/node_modules/plotly.js/src/traces/image/defaults.js"],"names":["Lib","require","attributes","constants","dataUri","IMAGE_URL_PREFIX","module","exports","supplyDefaults","traceIn","traceOut","coerce","attr","dflt","source","match","_hasSource","z","_hasZ","undefined","length","visible","cm","colormodel","zminDflt","min","zmaxDflt","max","zmin","zmax","_length"],"mappings":"AAAA;;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAC,WAAD,CAAjB;;AACA,IAAIC,UAAU,GAAGD,OAAO,CAAC,cAAD,CAAxB;;AACA,IAAIE,SAAS,GAAGF,OAAO,CAAC,aAAD,CAAvB;;AACA,IAAIG,OAAO,GAAGH,OAAO,CAAC,wBAAD,CAAP,CAAkCI,gBAAhD;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,cAAT,CAAwBC,OAAxB,EAAiCC,QAAjC,EAA2C;AACxD,WAASC,MAAT,CAAgBC,IAAhB,EAAsBC,IAAtB,EAA4B;AACxB,WAAOb,GAAG,CAACW,MAAJ,CAAWF,OAAX,EAAoBC,QAApB,EAA8BR,UAA9B,EAA0CU,IAA1C,EAAgDC,IAAhD,CAAP;AACH;;AACDF,EAAAA,MAAM,CAAC,QAAD,CAAN,CAJwD,CAKxD;;AACA,MAAGD,QAAQ,CAACI,MAAT,IAAmB,CAACJ,QAAQ,CAACI,MAAT,CAAgBC,KAAhB,CAAsBX,OAAtB,CAAvB,EAAuD,OAAOM,QAAQ,CAACI,MAAhB;AACvDJ,EAAAA,QAAQ,CAACM,UAAT,GAAsB,CAAC,CAACN,QAAQ,CAACI,MAAjC;AAEA,MAAIG,CAAC,GAAGN,MAAM,CAAC,GAAD,CAAd;AACAD,EAAAA,QAAQ,CAACQ,KAAT,GAAiB,EAAED,CAAC,KAAKE,SAAN,IAAmB,CAACF,CAAC,CAACG,MAAtB,IAAgC,CAACH,CAAC,CAAC,CAAD,CAAlC,IAAyC,CAACA,CAAC,CAAC,CAAD,CAAD,CAAKG,MAAjD,CAAjB;;AACA,MAAG,CAACV,QAAQ,CAACQ,KAAV,IAAmB,CAACR,QAAQ,CAACM,UAAhC,EAA4C;AACxCN,IAAAA,QAAQ,CAACW,OAAT,GAAmB,KAAnB;AACA;AACH;;AAEDV,EAAAA,MAAM,CAAC,IAAD,CAAN;AACAA,EAAAA,MAAM,CAAC,IAAD,CAAN;AACAA,EAAAA,MAAM,CAAC,IAAD,CAAN;AACAA,EAAAA,MAAM,CAAC,IAAD,CAAN;AAEA,MAAIW,EAAJ;;AACA,MAAGZ,QAAQ,CAACQ,KAAZ,EAAmB;AACfP,IAAAA,MAAM,CAAC,YAAD,EAAe,KAAf,CAAN;AACAW,IAAAA,EAAE,GAAGnB,SAAS,CAACoB,UAAV,CAAqBb,QAAQ,CAACa,UAA9B,CAAL;AACAZ,IAAAA,MAAM,CAAC,MAAD,EAAUW,EAAE,CAACE,QAAH,IAAeF,EAAE,CAACG,GAA5B,CAAN;AACAd,IAAAA,MAAM,CAAC,MAAD,EAAUW,EAAE,CAACI,QAAH,IAAeJ,EAAE,CAACK,GAA5B,CAAN;AACH,GALD,MAKO,IAAGjB,QAAQ,CAACM,UAAZ,EAAwB;AAC3BN,IAAAA,QAAQ,CAACa,UAAT,GAAsB,SAAtB;AACAD,IAAAA,EAAE,GAAGnB,SAAS,CAACoB,UAAV,CAAqBb,QAAQ,CAACa,UAA9B,CAAL;AACAb,IAAAA,QAAQ,CAACkB,IAAT,GAAgBN,EAAE,CAACE,QAAnB;AACAd,IAAAA,QAAQ,CAACmB,IAAT,GAAgBP,EAAE,CAACI,QAAnB;AACH;;AAEDf,EAAAA,MAAM,CAAC,SAAD,CAAN;AACAA,EAAAA,MAAM,CAAC,MAAD,CAAN;AACAA,EAAAA,MAAM,CAAC,WAAD,CAAN;AACAA,EAAAA,MAAM,CAAC,eAAD,CAAN;AAEAD,EAAAA,QAAQ,CAACoB,OAAT,GAAmB,IAAnB;AACH,CAxCD","sourcesContent":["'use strict';\n\nvar Lib = require('../../lib');\nvar attributes = require('./attributes');\nvar constants = require('./constants');\nvar dataUri = require('../../snapshot/helpers').IMAGE_URL_PREFIX;\n\nmodule.exports = function supplyDefaults(traceIn, traceOut) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n    }\n    coerce('source');\n    // sanitize source to only allow for data URI representing images\n    if(traceOut.source && !traceOut.source.match(dataUri)) delete traceOut.source;\n    traceOut._hasSource = !!traceOut.source;\n\n    var z = coerce('z');\n    traceOut._hasZ = !(z === undefined || !z.length || !z[0] || !z[0].length);\n    if(!traceOut._hasZ && !traceOut._hasSource) {\n        traceOut.visible = false;\n        return;\n    }\n\n    coerce('x0');\n    coerce('y0');\n    coerce('dx');\n    coerce('dy');\n\n    var cm;\n    if(traceOut._hasZ) {\n        coerce('colormodel', 'rgb');\n        cm = constants.colormodel[traceOut.colormodel];\n        coerce('zmin', (cm.zminDflt || cm.min));\n        coerce('zmax', (cm.zmaxDflt || cm.max));\n    } else if(traceOut._hasSource) {\n        traceOut.colormodel = 'rgba256';\n        cm = constants.colormodel[traceOut.colormodel];\n        traceOut.zmin = cm.zminDflt;\n        traceOut.zmax = cm.zmaxDflt;\n    }\n\n    coerce('zsmooth');\n    coerce('text');\n    coerce('hovertext');\n    coerce('hovertemplate');\n\n    traceOut._length = null;\n};\n"]},"metadata":{},"sourceType":"script"}