{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\n\nvar Registry = require('../../registry');\n\nmodule.exports = function calc(gd) {\n  var calcdata = gd.calcdata;\n  var fullLayout = gd._fullLayout;\n\n  function makeCoerceHoverInfo(trace) {\n    return function (val) {\n      return Lib.coerceHoverinfo({\n        hoverinfo: val\n      }, {\n        _module: trace._module\n      }, fullLayout);\n    };\n  }\n\n  for (var i = 0; i < calcdata.length; i++) {\n    var cd = calcdata[i];\n    var trace = cd[0].trace; // don't include hover calc fields for pie traces\n    // as calcdata items might be sorted by value and\n    // won't match the data array order.\n\n    if (Registry.traceIs(trace, 'pie-like')) continue;\n    var fillFn = Registry.traceIs(trace, '2dMap') ? paste : Lib.fillArray;\n    fillFn(trace.hoverinfo, cd, 'hi', makeCoerceHoverInfo(trace));\n    if (trace.hovertemplate) fillFn(trace.hovertemplate, cd, 'ht');\n    if (!trace.hoverlabel) continue;\n    fillFn(trace.hoverlabel.bgcolor, cd, 'hbg');\n    fillFn(trace.hoverlabel.bordercolor, cd, 'hbc');\n    fillFn(trace.hoverlabel.font.size, cd, 'hts');\n    fillFn(trace.hoverlabel.font.color, cd, 'htc');\n    fillFn(trace.hoverlabel.font.family, cd, 'htf');\n    fillFn(trace.hoverlabel.namelength, cd, 'hnl');\n    fillFn(trace.hoverlabel.align, cd, 'hta');\n  }\n};\n\nfunction paste(traceAttr, cd, cdAttr, fn) {\n  fn = fn || Lib.identity;\n\n  if (Array.isArray(traceAttr)) {\n    cd[0][cdAttr] = fn(traceAttr);\n  }\n}","map":{"version":3,"sources":["C:/Projects/reactApp/frontend/node_modules/plotly.js/src/components/fx/calc.js"],"names":["Lib","require","Registry","module","exports","calc","gd","calcdata","fullLayout","_fullLayout","makeCoerceHoverInfo","trace","val","coerceHoverinfo","hoverinfo","_module","i","length","cd","traceIs","fillFn","paste","fillArray","hovertemplate","hoverlabel","bgcolor","bordercolor","font","size","color","family","namelength","align","traceAttr","cdAttr","fn","identity","Array","isArray"],"mappings":"AAAA;;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAC,WAAD,CAAjB;;AACA,IAAIC,QAAQ,GAAGD,OAAO,CAAC,gBAAD,CAAtB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,SAASC,IAAT,CAAcC,EAAd,EAAkB;AAC/B,MAAIC,QAAQ,GAAGD,EAAE,CAACC,QAAlB;AACA,MAAIC,UAAU,GAAGF,EAAE,CAACG,WAApB;;AAEA,WAASC,mBAAT,CAA6BC,KAA7B,EAAoC;AAChC,WAAO,UAASC,GAAT,EAAc;AACjB,aAAOZ,GAAG,CAACa,eAAJ,CAAoB;AAACC,QAAAA,SAAS,EAAEF;AAAZ,OAApB,EAAsC;AAACG,QAAAA,OAAO,EAAEJ,KAAK,CAACI;AAAhB,OAAtC,EAAgEP,UAAhE,CAAP;AACH,KAFD;AAGH;;AAED,OAAI,IAAIQ,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGT,QAAQ,CAACU,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrC,QAAIE,EAAE,GAAGX,QAAQ,CAACS,CAAD,CAAjB;AACA,QAAIL,KAAK,GAAGO,EAAE,CAAC,CAAD,CAAF,CAAMP,KAAlB,CAFqC,CAIrC;AACA;AACA;;AACA,QAAGT,QAAQ,CAACiB,OAAT,CAAiBR,KAAjB,EAAwB,UAAxB,CAAH,EAAwC;AAExC,QAAIS,MAAM,GAAGlB,QAAQ,CAACiB,OAAT,CAAiBR,KAAjB,EAAwB,OAAxB,IAAmCU,KAAnC,GAA2CrB,GAAG,CAACsB,SAA5D;AAEAF,IAAAA,MAAM,CAACT,KAAK,CAACG,SAAP,EAAkBI,EAAlB,EAAsB,IAAtB,EAA4BR,mBAAmB,CAACC,KAAD,CAA/C,CAAN;AAEA,QAAGA,KAAK,CAACY,aAAT,EAAwBH,MAAM,CAACT,KAAK,CAACY,aAAP,EAAsBL,EAAtB,EAA0B,IAA1B,CAAN;AAExB,QAAG,CAACP,KAAK,CAACa,UAAV,EAAsB;AAEtBJ,IAAAA,MAAM,CAACT,KAAK,CAACa,UAAN,CAAiBC,OAAlB,EAA2BP,EAA3B,EAA+B,KAA/B,CAAN;AACAE,IAAAA,MAAM,CAACT,KAAK,CAACa,UAAN,CAAiBE,WAAlB,EAA+BR,EAA/B,EAAmC,KAAnC,CAAN;AACAE,IAAAA,MAAM,CAACT,KAAK,CAACa,UAAN,CAAiBG,IAAjB,CAAsBC,IAAvB,EAA6BV,EAA7B,EAAiC,KAAjC,CAAN;AACAE,IAAAA,MAAM,CAACT,KAAK,CAACa,UAAN,CAAiBG,IAAjB,CAAsBE,KAAvB,EAA8BX,EAA9B,EAAkC,KAAlC,CAAN;AACAE,IAAAA,MAAM,CAACT,KAAK,CAACa,UAAN,CAAiBG,IAAjB,CAAsBG,MAAvB,EAA+BZ,EAA/B,EAAmC,KAAnC,CAAN;AACAE,IAAAA,MAAM,CAACT,KAAK,CAACa,UAAN,CAAiBO,UAAlB,EAA8Bb,EAA9B,EAAkC,KAAlC,CAAN;AACAE,IAAAA,MAAM,CAACT,KAAK,CAACa,UAAN,CAAiBQ,KAAlB,EAAyBd,EAAzB,EAA6B,KAA7B,CAAN;AACH;AACJ,CAnCD;;AAqCA,SAASG,KAAT,CAAeY,SAAf,EAA0Bf,EAA1B,EAA8BgB,MAA9B,EAAsCC,EAAtC,EAA0C;AACtCA,EAAAA,EAAE,GAAGA,EAAE,IAAInC,GAAG,CAACoC,QAAf;;AAEA,MAAGC,KAAK,CAACC,OAAN,CAAcL,SAAd,CAAH,EAA6B;AACzBf,IAAAA,EAAE,CAAC,CAAD,CAAF,CAAMgB,MAAN,IAAgBC,EAAE,CAACF,SAAD,CAAlB;AACH;AACJ","sourcesContent":["'use strict';\n\nvar Lib = require('../../lib');\nvar Registry = require('../../registry');\n\nmodule.exports = function calc(gd) {\n    var calcdata = gd.calcdata;\n    var fullLayout = gd._fullLayout;\n\n    function makeCoerceHoverInfo(trace) {\n        return function(val) {\n            return Lib.coerceHoverinfo({hoverinfo: val}, {_module: trace._module}, fullLayout);\n        };\n    }\n\n    for(var i = 0; i < calcdata.length; i++) {\n        var cd = calcdata[i];\n        var trace = cd[0].trace;\n\n        // don't include hover calc fields for pie traces\n        // as calcdata items might be sorted by value and\n        // won't match the data array order.\n        if(Registry.traceIs(trace, 'pie-like')) continue;\n\n        var fillFn = Registry.traceIs(trace, '2dMap') ? paste : Lib.fillArray;\n\n        fillFn(trace.hoverinfo, cd, 'hi', makeCoerceHoverInfo(trace));\n\n        if(trace.hovertemplate) fillFn(trace.hovertemplate, cd, 'ht');\n\n        if(!trace.hoverlabel) continue;\n\n        fillFn(trace.hoverlabel.bgcolor, cd, 'hbg');\n        fillFn(trace.hoverlabel.bordercolor, cd, 'hbc');\n        fillFn(trace.hoverlabel.font.size, cd, 'hts');\n        fillFn(trace.hoverlabel.font.color, cd, 'htc');\n        fillFn(trace.hoverlabel.font.family, cd, 'htf');\n        fillFn(trace.hoverlabel.namelength, cd, 'hnl');\n        fillFn(trace.hoverlabel.align, cd, 'hta');\n    }\n};\n\nfunction paste(traceAttr, cd, cdAttr, fn) {\n    fn = fn || Lib.identity;\n\n    if(Array.isArray(traceAttr)) {\n        cd[0][cdAttr] = fn(traceAttr);\n    }\n}\n"]},"metadata":{},"sourceType":"script"}