{"ast":null,"code":"'use strict';\n\nvar isNumeric = require('fast-isnumeric');\n\nvar isArrayOrTypedArray = require('../../lib').isArrayOrTypedArray;\n\nvar BADNUM = require('../../constants/numerical').BADNUM;\n\nvar colorscaleCalc = require('../../components/colorscale/calc');\n\nvar _ = require('../../lib')._;\n\nmodule.exports = function calc(gd, trace) {\n  var len = trace._length;\n  var calcTrace = new Array(len);\n  var z = trace.z;\n  var hasZ = isArrayOrTypedArray(z) && z.length;\n\n  for (var i = 0; i < len; i++) {\n    var cdi = calcTrace[i] = {};\n    var lon = trace.lon[i];\n    var lat = trace.lat[i];\n    cdi.lonlat = isNumeric(lon) && isNumeric(lat) ? [+lon, +lat] : [BADNUM, BADNUM];\n\n    if (hasZ) {\n      var zi = z[i];\n      cdi.z = isNumeric(zi) ? zi : BADNUM;\n    }\n  }\n\n  colorscaleCalc(gd, trace, {\n    vals: hasZ ? z : [0, 1],\n    containerStr: '',\n    cLetter: 'z'\n  });\n\n  if (len) {\n    calcTrace[0].t = {\n      labels: {\n        lat: _(gd, 'lat:') + ' ',\n        lon: _(gd, 'lon:') + ' '\n      }\n    };\n  }\n\n  return calcTrace;\n};","map":{"version":3,"sources":["C:/Projects/reactApp/frontend/node_modules/plotly.js/src/traces/densitymapbox/calc.js"],"names":["isNumeric","require","isArrayOrTypedArray","BADNUM","colorscaleCalc","_","module","exports","calc","gd","trace","len","_length","calcTrace","Array","z","hasZ","length","i","cdi","lon","lat","lonlat","zi","vals","containerStr","cLetter","t","labels"],"mappings":"AAAA;;AAEA,IAAIA,SAAS,GAAGC,OAAO,CAAC,gBAAD,CAAvB;;AAEA,IAAIC,mBAAmB,GAAGD,OAAO,CAAC,WAAD,CAAP,CAAqBC,mBAA/C;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAAC,2BAAD,CAAP,CAAqCE,MAAlD;;AAEA,IAAIC,cAAc,GAAGH,OAAO,CAAC,kCAAD,CAA5B;;AACA,IAAII,CAAC,GAAGJ,OAAO,CAAC,WAAD,CAAP,CAAqBI,CAA7B;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,IAAT,CAAcC,EAAd,EAAkBC,KAAlB,EAAyB;AACtC,MAAIC,GAAG,GAAGD,KAAK,CAACE,OAAhB;AACA,MAAIC,SAAS,GAAG,IAAIC,KAAJ,CAAUH,GAAV,CAAhB;AACA,MAAII,CAAC,GAAGL,KAAK,CAACK,CAAd;AACA,MAAIC,IAAI,GAAGd,mBAAmB,CAACa,CAAD,CAAnB,IAA0BA,CAAC,CAACE,MAAvC;;AAEA,OAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGP,GAAnB,EAAwBO,CAAC,EAAzB,EAA6B;AACzB,QAAIC,GAAG,GAAGN,SAAS,CAACK,CAAD,CAAT,GAAe,EAAzB;AAEA,QAAIE,GAAG,GAAGV,KAAK,CAACU,GAAN,CAAUF,CAAV,CAAV;AACA,QAAIG,GAAG,GAAGX,KAAK,CAACW,GAAN,CAAUH,CAAV,CAAV;AAEAC,IAAAA,GAAG,CAACG,MAAJ,GAAatB,SAAS,CAACoB,GAAD,CAAT,IAAkBpB,SAAS,CAACqB,GAAD,CAA3B,GACT,CAAC,CAACD,GAAF,EAAO,CAACC,GAAR,CADS,GAET,CAAClB,MAAD,EAASA,MAAT,CAFJ;;AAIA,QAAGa,IAAH,EAAS;AACL,UAAIO,EAAE,GAAGR,CAAC,CAACG,CAAD,CAAV;AACAC,MAAAA,GAAG,CAACJ,CAAJ,GAAQf,SAAS,CAACuB,EAAD,CAAT,GAAgBA,EAAhB,GAAqBpB,MAA7B;AACH;AACJ;;AAEDC,EAAAA,cAAc,CAACK,EAAD,EAAKC,KAAL,EAAY;AACtBc,IAAAA,IAAI,EAAER,IAAI,GAAGD,CAAH,GAAO,CAAC,CAAD,EAAI,CAAJ,CADK;AAEtBU,IAAAA,YAAY,EAAE,EAFQ;AAGtBC,IAAAA,OAAO,EAAE;AAHa,GAAZ,CAAd;;AAMA,MAAGf,GAAH,EAAQ;AACJE,IAAAA,SAAS,CAAC,CAAD,CAAT,CAAac,CAAb,GAAiB;AACbC,MAAAA,MAAM,EAAE;AACJP,QAAAA,GAAG,EAAEhB,CAAC,CAACI,EAAD,EAAK,MAAL,CAAD,GAAgB,GADjB;AAEJW,QAAAA,GAAG,EAAEf,CAAC,CAACI,EAAD,EAAK,MAAL,CAAD,GAAgB;AAFjB;AADK,KAAjB;AAMH;;AAED,SAAOI,SAAP;AACH,CAtCD","sourcesContent":["'use strict';\n\nvar isNumeric = require('fast-isnumeric');\n\nvar isArrayOrTypedArray = require('../../lib').isArrayOrTypedArray;\nvar BADNUM = require('../../constants/numerical').BADNUM;\n\nvar colorscaleCalc = require('../../components/colorscale/calc');\nvar _ = require('../../lib')._;\n\nmodule.exports = function calc(gd, trace) {\n    var len = trace._length;\n    var calcTrace = new Array(len);\n    var z = trace.z;\n    var hasZ = isArrayOrTypedArray(z) && z.length;\n\n    for(var i = 0; i < len; i++) {\n        var cdi = calcTrace[i] = {};\n\n        var lon = trace.lon[i];\n        var lat = trace.lat[i];\n\n        cdi.lonlat = isNumeric(lon) && isNumeric(lat) ?\n            [+lon, +lat] :\n            [BADNUM, BADNUM];\n\n        if(hasZ) {\n            var zi = z[i];\n            cdi.z = isNumeric(zi) ? zi : BADNUM;\n        }\n    }\n\n    colorscaleCalc(gd, trace, {\n        vals: hasZ ? z : [0, 1],\n        containerStr: '',\n        cLetter: 'z'\n    });\n\n    if(len) {\n        calcTrace[0].t = {\n            labels: {\n                lat: _(gd, 'lat:') + ' ',\n                lon: _(gd, 'lon:') + ' '\n            }\n        };\n    }\n\n    return calcTrace;\n};\n"]},"metadata":{},"sourceType":"script"}