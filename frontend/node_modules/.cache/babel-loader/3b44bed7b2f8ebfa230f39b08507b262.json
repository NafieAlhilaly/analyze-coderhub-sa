{"ast":null,"code":"'use strict';\n\nvar isNumeric = require('fast-isnumeric'); // used in the drawing step for 'scatter' and 'scattegeo' and\n// in the convert step for 'scatter3d'\n\n\nmodule.exports = function makeBubbleSizeFn(trace, factor) {\n  if (!factor) {\n    factor = 2;\n  }\n\n  var marker = trace.marker;\n  var sizeRef = marker.sizeref || 1;\n  var sizeMin = marker.sizemin || 0; // for bubble charts, allow scaling the provided value linearly\n  // and by area or diameter.\n  // Note this only applies to the array-value sizes\n\n  var baseFn = marker.sizemode === 'area' ? function (v) {\n    return Math.sqrt(v / sizeRef);\n  } : function (v) {\n    return v / sizeRef;\n  }; // TODO add support for position/negative bubbles?\n  // TODO add 'sizeoffset' attribute?\n\n  return function (v) {\n    var baseSize = baseFn(v / factor); // don't show non-numeric and negative sizes\n\n    return isNumeric(baseSize) && baseSize > 0 ? Math.max(baseSize, sizeMin) : 0;\n  };\n};","map":{"version":3,"sources":["C:/Projects/reactApp/analyse_coderhub/node_modules/plotly.js/src/traces/scatter/make_bubble_size_func.js"],"names":["isNumeric","require","module","exports","makeBubbleSizeFn","trace","factor","marker","sizeRef","sizeref","sizeMin","sizemin","baseFn","sizemode","v","Math","sqrt","baseSize","max"],"mappings":"AAAA;;AAEA,IAAIA,SAAS,GAAGC,OAAO,CAAC,gBAAD,CAAvB,C,CAGA;AACA;;;AACAC,MAAM,CAACC,OAAP,GAAiB,SAASC,gBAAT,CAA0BC,KAA1B,EAAiCC,MAAjC,EAAyC;AACtD,MAAG,CAACA,MAAJ,EAAY;AACRA,IAAAA,MAAM,GAAG,CAAT;AACH;;AACD,MAAIC,MAAM,GAAGF,KAAK,CAACE,MAAnB;AACA,MAAIC,OAAO,GAAGD,MAAM,CAACE,OAAP,IAAkB,CAAhC;AACA,MAAIC,OAAO,GAAGH,MAAM,CAACI,OAAP,IAAkB,CAAhC,CANsD,CAQtD;AACA;AACA;;AAEA,MAAIC,MAAM,GAAIL,MAAM,CAACM,QAAP,KAAoB,MAArB,GACT,UAASC,CAAT,EAAY;AAAE,WAAOC,IAAI,CAACC,IAAL,CAAUF,CAAC,GAAGN,OAAd,CAAP;AAAgC,GADrC,GAET,UAASM,CAAT,EAAY;AAAE,WAAOA,CAAC,GAAGN,OAAX;AAAqB,GAFvC,CAZsD,CAgBtD;AACA;;AACA,SAAO,UAASM,CAAT,EAAY;AACf,QAAIG,QAAQ,GAAGL,MAAM,CAACE,CAAC,GAAGR,MAAL,CAArB,CADe,CAGf;;AACA,WAAQN,SAAS,CAACiB,QAAD,CAAT,IAAwBA,QAAQ,GAAG,CAApC,GACHF,IAAI,CAACG,GAAL,CAASD,QAAT,EAAmBP,OAAnB,CADG,GAEH,CAFJ;AAGH,GAPD;AAQH,CA1BD","sourcesContent":["'use strict';\n\nvar isNumeric = require('fast-isnumeric');\n\n\n// used in the drawing step for 'scatter' and 'scattegeo' and\n// in the convert step for 'scatter3d'\nmodule.exports = function makeBubbleSizeFn(trace, factor) {\n    if(!factor) {\n        factor = 2;\n    }\n    var marker = trace.marker;\n    var sizeRef = marker.sizeref || 1;\n    var sizeMin = marker.sizemin || 0;\n\n    // for bubble charts, allow scaling the provided value linearly\n    // and by area or diameter.\n    // Note this only applies to the array-value sizes\n\n    var baseFn = (marker.sizemode === 'area') ?\n        function(v) { return Math.sqrt(v / sizeRef); } :\n        function(v) { return v / sizeRef; };\n\n    // TODO add support for position/negative bubbles?\n    // TODO add 'sizeoffset' attribute?\n    return function(v) {\n        var baseSize = baseFn(v / factor);\n\n        // don't show non-numeric and negative sizes\n        return (isNumeric(baseSize) && (baseSize > 0)) ?\n            Math.max(baseSize, sizeMin) :\n            0;\n    };\n};\n"]},"metadata":{},"sourceType":"script"}