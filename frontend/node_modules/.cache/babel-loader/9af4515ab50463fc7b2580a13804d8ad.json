{"ast":null,"code":"'use strict';\n\nmodule.exports = kerning;\nvar canvas = kerning.canvas = document.createElement('canvas');\nvar ctx = canvas.getContext('2d');\nvar asciiPairs = createPairs([32, 126]);\nkerning.createPairs = createPairs;\nkerning.ascii = asciiPairs;\n\nfunction kerning(family, o) {\n  if (Array.isArray(family)) family = family.join(', ');\n  var table = {},\n      pairs,\n      fs = 16,\n      threshold = .05;\n\n  if (o) {\n    if (o.length === 2 && typeof o[0] === 'number') {\n      pairs = createPairs(o);\n    } else if (Array.isArray(o)) {\n      pairs = o;\n    } else {\n      if (o.o) pairs = createPairs(o.o);else if (o.pairs) pairs = o.pairs;\n      if (o.fontSize) fs = o.fontSize;\n      if (o.threshold != null) threshold = o.threshold;\n    }\n  }\n\n  if (!pairs) pairs = asciiPairs;\n  ctx.font = fs + 'px ' + family;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var width = ctx.measureText(pair[0]).width + ctx.measureText(pair[1]).width;\n    var kerningWidth = ctx.measureText(pair).width;\n\n    if (Math.abs(width - kerningWidth) > fs * threshold) {\n      var emWidth = (kerningWidth - width) / fs;\n      table[pair] = emWidth * 1000;\n    }\n  }\n\n  return table;\n}\n\nfunction createPairs(range) {\n  var pairs = [];\n\n  for (var i = range[0]; i <= range[1]; i++) {\n    var leftChar = String.fromCharCode(i);\n\n    for (var j = range[0]; j < range[1]; j++) {\n      var rightChar = String.fromCharCode(j);\n      var pair = leftChar + rightChar;\n      pairs.push(pair);\n    }\n  }\n\n  return pairs;\n}","map":{"version":3,"sources":["C:/Projects/reactApp/frontend/node_modules/detect-kerning/index.js"],"names":["module","exports","kerning","canvas","document","createElement","ctx","getContext","asciiPairs","createPairs","ascii","family","o","Array","isArray","join","table","pairs","fs","threshold","length","fontSize","font","i","pair","width","measureText","kerningWidth","Math","abs","emWidth","range","leftChar","String","fromCharCode","j","rightChar","push"],"mappings":"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","sourcesContent":["'use strict'\r\n\r\n\r\nmodule.exports = kerning\r\n\r\n\r\nvar canvas = kerning.canvas = document.createElement('canvas')\r\nvar ctx = canvas.getContext('2d')\r\nvar asciiPairs = createPairs([32, 126])\r\n\r\nkerning.createPairs = createPairs\r\nkerning.ascii = asciiPairs\r\n\r\n\r\nfunction kerning (family, o) {\r\n\tif (Array.isArray(family)) family = family.join(', ')\r\n\r\n\tvar table = {}, pairs, fs = 16, threshold = .05\r\n\r\n\tif (o) {\r\n\t\tif (o.length === 2 && typeof o[0] === 'number') {\r\n\t\t\tpairs = createPairs(o)\r\n\t\t}\r\n\t\telse if (Array.isArray(o)) {\r\n\t\t\tpairs = o\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (o.o) pairs = createPairs(o.o)\r\n\t\t\telse if (o.pairs) pairs = o.pairs\r\n\r\n\t\t\tif (o.fontSize) fs = o.fontSize\r\n\t\t\tif (o.threshold != null) threshold = o.threshold\r\n\t\t}\r\n\t}\r\n\r\n\tif (!pairs) pairs = asciiPairs\r\n\r\n\tctx.font = fs + 'px ' + family\r\n\r\n\tfor (var i = 0; i < pairs.length; i++) {\r\n\t\tvar pair = pairs[i]\r\n\t\tvar width = ctx.measureText(pair[0]).width + ctx.measureText(pair[1]).width\r\n\t\tvar kerningWidth = ctx.measureText(pair).width\r\n\t\tif (Math.abs(width - kerningWidth) > fs * threshold) {\r\n\t\t\tvar emWidth = (kerningWidth - width) / fs\r\n\t\t\ttable[pair] = emWidth * 1000\r\n\t\t}\r\n\t}\r\n\r\n\treturn table\r\n}\r\n\r\n\r\nfunction createPairs (range) {\r\n\tvar pairs = []\r\n\r\n    for (var i = range[0]; i <= range[1]; i++) {\r\n\t\tvar leftChar = String.fromCharCode(i)\r\n\t\tfor (var j = range[0]; j < range[1]; j++) {\r\n\t\t\tvar rightChar = String.fromCharCode(j)\r\n\t\t\tvar pair = leftChar + rightChar\r\n\r\n\t\t\tpairs.push(pair)\r\n\t\t}\r\n\t}\r\n\r\n\treturn pairs\r\n}\r\n"]},"metadata":{},"sourceType":"script"}